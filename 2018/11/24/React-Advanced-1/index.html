<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
          React Advanced 1 - Leilei | 磊磊的博客
        
    </title>

    <link rel="canonical" href="https://llchen60.com/2018/11/24/React-Advanced-1/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Highlight CSS -->
    <link rel="stylesheet" href="/css/highlight.css">

    <!-- Custom Fonts -->
    <!-- <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Leilei&#39;s Blog</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <!-- Known Issue, found by Hux:
            <nav>'s height woule be hold on by its content.
            so, when navbar scale out, the <nav> will cover tags.
            also mask any touch event of tags, unfortunately.
        -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>

                    

                        
                    

                        
                        <li>
                            <a href="/about/">About</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/archives/">Archives</a>
                        </li>
                        
                    

                        
                        <li>
                            <a href="/tags/">Tags</a>
                        </li>
                        
                    
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        // CLOSE
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        // OPEN
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>


    <!-- Main Content -->
    
<!-- Image to hack wechat -->
<!-- <img src="https://llchen60.com/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="{{ site.baseurl }}/{% if page.header-img %}{{ page.header-img }}{% else %}{{ site.header-img }}{% endif %}" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('/img/home-bg.jpg')
    }
</style>
<header class="intro-header" >
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                          <a class="tag" href="/tags/#React" title="React">React</a>
                        
                          <a class="tag" href="/tags/#FrontEnd" title="FrontEnd">FrontEnd</a>
                        
                    </div>
                    <h1>React Advanced 1</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        Posted by Leilei on
                        2018-11-24
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>
<!-- toc -->
<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                <!-- toc -->
<ul>
<li><a href="#1-main-concepts">1. Main Concepts</a><ul>
<li><a href="#11-jsx">1.1 JSX</a><ul>
<li><a href="#111-embedding-expressions-in-jsx">1.1.1 Embedding expressions in JSX</a></li>
<li><a href="#112-jsx-is-an-expression">1.1.2 JSX is an Expression</a></li>
</ul>
</li>
<li><a href="#12-rendering-elements">1.2 Rendering Elements</a><ul>
<li><a href="#121-element">1.2.1 Element</a></li>
<li><a href="#122-updating-the-rendered-element">1.2.2 Updating the rendered element</a></li>
<li><a href="#123-only-updates-whats-necessary">1.2.3 Only updates what’s necessary</a></li>
</ul>
</li>
<li><a href="#13-components-and-props">1.3 Components and Props</a><ul>
<li><a href="#131-components">1.3.1 Components</a></li>
<li><a href="#132-extract-components">1.3.2 Extract Components</a></li>
<li><a href="#133-props-are-read-only">1.3.3 Props are <strong><em>Read only</em></strong></a></li>
</ul>
</li>
<li><a href="#14-state-and-lifecycle">1.4 State and Lifecycle</a><ul>
<li><a href="#141-state">1.4.1 State</a></li>
<li><a href="#142-adding-lifecycle-methods-to-a-class">1.4.2 Adding lifecycle methods to a Class</a></li>
<li><a href="#143-state-using-tips">1.4.3 State Using tips</a></li>
<li><a href="#144-the-data-flow-down">1.4.4 The data flow down</a></li>
</ul>
</li>
<li><a href="#15-handling-events">1.5 Handling Events</a></li>
<li><a href="#16-conditional-rendering">1.6 Conditional Rendering</a></li>
<li><a href="#17-lists-and-keys">1.7 Lists and Keys</a><ul>
<li><a href="#171-rendering-multiple-components">1.7.1 Rendering Multiple Components</a></li>
</ul>
</li>
<li><a href="#172-keys">1.7.2 Keys</a></li>
<li><a href="#173-embedding-map-in-jsx">1.7.3 Embedding map() in JSX</a></li>
<li><a href="#18-forms">1.8 Forms</a><ul>
<li><a href="#181-controlled-components-form">1.8.1 Controlled Components – Form</a></li>
<li><a href="#182-controlled-components-textarea">1.8.2 Controlled Components – textarea</a></li>
<li><a href="#183-controlled-components-select">1.8.3 Controlled Components – select</a></li>
<li><a href="#184-handling-multiple-inputs">1.8.4 Handling multiple inputs</a></li>
</ul>
</li>
<li><a href="#19-lifting-state-up">1.9 Lifting state up</a></li>
<li><a href="#110-compisition-vs-inheritance">1.10 Compisition vs Inheritance</a><ul>
<li><a href="#1101-containment">1.10.1 Containment</a></li>
<li><a href="#1102-specialization">1.10.2 Specialization</a></li>
<li><a href="#1103-example">1.10.3 Example</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#2-thinking-how-to-build-an-product-from-scratch">2. Thinking - How to build an product from scratch</a></li>
<li><a href="#reference">Reference</a></li>
</ul>
<!-- tocstop -->
<p>For this part, aim to know all the necessary react knowledge to better do the development work. Start from the very beginning, and try to grab all the basic and advanced knowledge follow the authoritive doc. </p>
<h1><span id="1-main-concepts">1. Main Concepts</span><a href="#1-main-concepts" class="header-anchor">#</a></h1><h2><span id="11-jsx">1.1 JSX</span><a href="#11-jsx" class="header-anchor">#</a></h2><pre><code>const element = &lt;h1&gt;Hello World!&lt;/h1&gt;
</code></pre><p>JSX, syntax extension to JS. JSX produces <strong>React Elements</strong>. And then we try to render them to the DOM. </p>
<p>JSX out logic and markup together, react separates concerns with loosely coupled units called components that contain both. </p>
<h3><span id="111-embedding-expressions-in-jsx">1.1.1 Embedding expressions in JSX</span><a href="#111-embedding-expressions-in-jsx" class="header-anchor">#</a></h3><pre><code>const name = &apos;Josh Perez&apos;;
const element = &lt;h1&gt;Hello, {name}&lt;/h1&gt;;

ReactDOM.render(
  element,
  document.getElementById(&apos;root&apos;)
);
</code></pre><p>Here, by wrapping name in curly braces, we call a variable. </p>
<blockquote>
<p>Inside the curly brace, we can put any valid <strong><em>JS expression</em></strong>.  </p>
</blockquote>
<h3><span id="112-jsx-is-an-expression">1.1.2 JSX is an Expression</span><a href="#112-jsx-is-an-expression" class="header-anchor">#</a></h3><p>After compilation, JSX expressions become regular <strong>JS function calls</strong> and evaluate to <strong>JS objects</strong>. React DOM uses camelCase property naming convention </p>
<p>JSX represents Object, Babel will help JSX to compile to React.createElement() call. </p>
<h2><span id="12-rendering-elements">1.2 Rendering Elements</span><a href="#12-rendering-elements" class="header-anchor">#</a></h2><h3><span id="121-element">1.2.1 Element</span><a href="#121-element" class="header-anchor">#</a></h3><p>An element describes what you want to see on the screen. </p>
<pre><code>const element = &lt;h1&gt;Hello world!&lt;/h1&gt;
</code></pre><p>Components are made of elements. </p>
<blockquote>
<p>Applications built with React usually have a <strong><em>single root DOM node</em></strong>. If you are integrating React into an existing app, you may have as many isolated root DOM nodes as you like. </p>
</blockquote>
<h3><span id="122-updating-the-rendered-element">1.2.2 Updating the rendered element</span><a href="#122-updating-the-rendered-element" class="header-anchor">#</a></h3><blockquote>
<p><strong><em>React elements are immutable</em></strong></p>
</blockquote>
<p>Once you create an element, you cannot change its children or attributes</p>
<h3><span id="123-only-updates-whats-necessary">1.2.3 Only updates what’s necessary</span><a href="#123-only-updates-whats-necessary" class="header-anchor">#</a></h3><p>React DOM compares the element and its children to the previous one, and only applies the DOM updates necessary to bring the DOM to the desired state. </p>
<blockquote>
<p>In this way, we can spend more time thinking how the UI should look like rather than how to change it over time eliminates a whole class of bugs. </p>
</blockquote>
<h2><span id="13-components-and-props">1.3 Components and Props</span><a href="#13-components-and-props" class="header-anchor">#</a></h2><h3><span id="131-components">1.3.1 Components</span><a href="#131-components" class="header-anchor">#</a></h3><p>Components let you split the UI into independent, reusable pieces, and think about each piece in isolation. They accept arbitrary inputs(named props) and return React elements describing what should appear on the screen. </p>
<p>When React sees an element representing a user-defined component, it <strong>passes JSX attributes to this component</strong> as a single object. We call this object “props”.</p>
<pre><code>function Welcome(props) {
  return &lt;h1&gt;Hello, {props.name}&lt;/h1&gt;;
}

const element = &lt;Welcome name=&quot;Sara&quot; /&gt;;
ReactDOM.render(
  element,
  document.getElementById(&apos;root&apos;)
);
</code></pre><h3><span id="132-extract-components">1.3.2 Extract Components</span><a href="#132-extract-components" class="header-anchor">#</a></h3><p>To make them better reusable. </p>
<h3><span id="133-props-are-read-only">1.3.3 Props are <strong><em>Read only</em></strong></span><a href="#133-props-are-read-only" class="header-anchor">#</a></h3><p>All React Components must act like pure functions with respect to their props. </p>
<h2><span id="14-state-and-lifecycle">1.4 State and Lifecycle</span><a href="#14-state-and-lifecycle" class="header-anchor">#</a></h2><h3><span id="141-state">1.4.1 State</span><a href="#141-state" class="header-anchor">#</a></h3><p>State is private, and fully controlled by the component. </p>
<h3><span id="142-adding-lifecycle-methods-to-a-class">1.4.2 Adding lifecycle methods to a Class</span><a href="#142-adding-lifecycle-methods-to-a-class" class="header-anchor">#</a></h3><p>In applications with many components, it’s very important to free up resources taken by the components when they are destroyed. </p>
<ol>
<li><p>componentDidMount()<br>It runs after the component output has been rendered to the DOM</p>
</li>
<li><p>componentWillUnmount() </p>
</li>
<li>Runs when the DOM need to be removed </li>
</ol>
<h3><span id="143-state-using-tips">1.4.3 State Using tips</span><a href="#143-state-using-tips" class="header-anchor">#</a></h3><ol>
<li>Do not modify state directly, instead, use setState</li>
<li>state updates may be asynchronous , props and state may be updated asynchronously, should not rely on their values for calculating the next state. </li>
</ol>
<pre><code>// Correct
this.setState((state, props) =&gt; ({
  counter: state.counter + props.increment
}));
</code></pre><p>In this way, That function will receive the previous state as the first argument, and the props at the time the update is applied as the second argument</p>
<ol start="3">
<li>State updates are merged </li>
</ol>
<h3><span id="144-the-data-flow-down">1.4.4 The data flow down</span><a href="#144-the-data-flow-down" class="header-anchor">#</a></h3><p>This is commonly called a “top-down” or “unidirectional” data flow. Any state is always owned by some specific component, and any data or UI derived from that state can only affect components “below” them in the tree.</p>
<blockquote>
<p>If you imagine a component tree as a waterfall of props, each component’s state is like an additional water source that joins it at an arbitrary point but also flows down.</p>
</blockquote>
<h2><span id="15-handling-events">1.5 Handling Events</span><a href="#15-handling-events" class="header-anchor">#</a></h2><p>Quite similar to handling methods in DOM, some differences: </p>
<ol>
<li><p>Syntax: </p>
 <button onclick="{activateLasers}"><br>   Activate Lasers<br> </button>

</li>
</ol>
<p>Use {}, <code>activateLasers</code> here means a function name</p>
<ol start="2">
<li>use <code>e.preventDefault()</code> to block the default behavior</li>
<li>when using React, you should generally not need to call <code>addEventListener</code> to add listeners to a DOM element after it is created. Instead, just provide a listener when the element is initially rendered. </li>
</ol>
<pre><code>class Toggle extends React.Component {
  constructor(props) {
    super(props);
    this.state = {isToggleOn: true};

    // This binding is necessary to make `this` work in the callback
    this.handleClick = this.handleClick.bind(this);
  }

  handleClick() {
    this.setState(state =&gt; ({
      isToggleOn: !state.isToggleOn
    }));
  }

  render() {
    return (
      &lt;button onClick={this.handleClick}&gt;
        {this.state.isToggleOn ? &apos;ON&apos; : &apos;OFF&apos;}
      &lt;/button&gt;
    );
  }
}

ReactDOM.render(
  &lt;Toggle /&gt;,
  document.getElementById(&apos;root&apos;)
);
</code></pre><blockquote>
<p> Be careful of <code>this</code>, since class methods are not bound by default. Need to bind this.handleClick. </p>
</blockquote>
<ol start="4">
<li>You can try to not bind this if you declare the method in such way!</li>
</ol>
<pre><code>class LoggingButton extends React.Component {
  // This syntax ensures `this` is bound within handleClick.
  // Warning: this is *experimental* syntax.
  handleClick = () =&gt; {
    console.log(&apos;this is:&apos;, this);
  }

  render() {
    return (
      &lt;button onClick={this.handleClick}&gt;
        Click me
      &lt;/button&gt;
    );
  }
}
</code></pre><p>Let’s figure out what’s <code>() =&gt; {}</code> means here: </p>
<p><strong><em>() contains some variables, used in an arrow function to return an object</em></strong></p>
<p><strong><em>{} contains some statement, actually, it’s a special syntax in JSX. It contains a JS expression, can be a variable</em></strong></p>
<h2><span id="16-conditional-rendering">1.6  Conditional Rendering</span><a href="#16-conditional-rendering" class="header-anchor">#</a></h2><p>User can create distinct components that encapsulate behavior you need, ANd we can <strong>render only some of them</strong>. </p>
<ol>
<li>Using if to do conditional rendering</li>
<li>Inline if with Logical &amp;&amp; Operator </li>
</ol>
<pre><code>function Mailbox(props) {
  const unreadMessages = props.unreadMessages;
  return (
    &lt;div&gt;
      &lt;h1&gt;Hello!&lt;/h1&gt;
      {unreadMessages.length &gt; 0 &amp;&amp;
        &lt;h2&gt;
          You have {unreadMessages.length} unread messages.
        &lt;/h2&gt;
      }
    &lt;/div&gt;
  );
}

const messages = [&apos;React&apos;, &apos;Re: React&apos;, &apos;Re:Re: React&apos;];
ReactDOM.render(
  &lt;Mailbox unreadMessages={messages} /&gt;,
  document.getElementById(&apos;root&apos;)
);
</code></pre><p>It works because in JS, <code>true &amp;&amp; expression</code> always evaluateds to <code>expression</code>, and <code>false &amp;&amp; expression</code> always evaluates to <code>false</code>. </p>
<ol start="3">
<li><p>Inline if-else with conditional operator </p>
<p> <code>condition ? true : false</code></p>
</li>
<li><p>Return null will prevent a component from render, but it will not affect the component’s lifecycle methods. </p>
</li>
</ol>
<h2><span id="17-lists-and-keys">1.7 Lists and Keys</span><a href="#17-lists-and-keys" class="header-anchor">#</a></h2><h3><span id="171-rendering-multiple-components">1.7.1 Rendering Multiple Components</span><a href="#171-rendering-multiple-components" class="header-anchor">#</a></h3><pre><code>const numbers = [1, 2, 3, 4, 5];
const listItems = numbers.map((number) =&gt;
  &lt;li&gt;{number}&lt;/li&gt;
);

// warning will be shown indicating you need provide key 
    function NumberList(props) {
  const numbers = props.numbers;
  const listItems = numbers.map((number) =&gt;
    &lt;li&gt;{number}&lt;/li&gt;
  );
  return (
    &lt;ul&gt;{listItems}&lt;/ul&gt;
  );
}

const numbers = [1, 2, 3, 4, 5];
ReactDOM.render(
  &lt;NumberList numbers={numbers} /&gt;,
  document.getElementById(&apos;root&apos;)
);
</code></pre><p>A “key” is a special string attribute you need to include when creating lists of elements. </p>
<pre><code>function NumberList(props) {
  const numbers = props.numbers;
  const listItems = numbers.map((number) =&gt;
    &lt;li key={number.toString()}&gt;
      {number}
    &lt;/li&gt;
  );
  return (
    &lt;ul&gt;{listItems}&lt;/ul&gt;
  );
}

const numbers = [1, 2, 3, 4, 5];
ReactDOM.render(
  &lt;NumberList numbers={numbers} /&gt;,
  document.getElementById(&apos;root&apos;)
);
</code></pre><h2><span id="172-keys">1.7.2 Keys</span><a href="#172-keys" class="header-anchor">#</a></h2><p>It helps React identify which items have changed, are added, or are removed. Keys should be given to the elements inside the array to give the elements a stable identity. </p>
<pre><code>const todoItems = todos.map((todo, index) =&gt;
  // Only do this if items have no stable IDs
  &lt;li key={index}&gt;
    {todo.text}
  &lt;/li&gt;
);
</code></pre><p>Using index as key might have some negative influence, thus we’d better find some other specific string as the key. </p>
<p>!!! Keys only make sense in the context of the surrounding array. </p>
<pre><code>function ListItem(props) {
  const value = props.value;
  return (
    // Wrong! There is no need to specify the key here:
    &lt;li key={value.toString()}&gt;
      {value}
    &lt;/li&gt;
  );
}

function NumberList(props) {
  const numbers = props.numbers;
  const listItems = numbers.map((number) =&gt;
    // Wrong! The key should have been specified here:
    &lt;ListItem value={number} /&gt;
  );
  return (
    &lt;ul&gt;
      {listItems}
    &lt;/ul&gt;
  );
}

const numbers = [1, 2, 3, 4, 5];
ReactDOM.render(
  &lt;NumberList numbers={numbers} /&gt;,
  document.getElementById(&apos;root&apos;)
);
</code></pre><p>Correct Version: </p>
<pre><code>function ListItem(props) {
  // Correct! There is no need to specify the key here:
  return &lt;li&gt;{props.value}&lt;/li&gt;;
}

function NumberList(props) {
  const numbers = props.numbers;
  const listItems = numbers.map((number) =&gt;
    // Correct! Key should be specified inside the array.
    &lt;ListItem key={number.toString()}
              value={number} /&gt;

  );
  return (
    &lt;ul&gt;
      {listItems}
    &lt;/ul&gt;
  );
}

const numbers = [1, 2, 3, 4, 5];
ReactDOM.render(
  &lt;NumberList numbers={numbers} /&gt;,
  document.getElementById(&apos;root&apos;)
);
</code></pre><h2><span id="173-embedding-map-in-jsx">1.7.3 Embedding map() in JSX</span><a href="#173-embedding-map-in-jsx" class="header-anchor">#</a></h2><pre><code>function NumberList(props) {
  const numbers = props.numbers;
  const listItems = numbers.map((number) =&gt;
    &lt;ListItem key={number.toString()}
              value={number} /&gt;

  );
  return (
    &lt;ul&gt;
      {listItems}
    &lt;/ul&gt;
  );
}
</code></pre><p>After map:</p>
<pre><code>    function NumberList(props) {
  const numbers = props.numbers;
  return (
    &lt;ul&gt;
      {numbers.map((number) =&gt;
        &lt;ListItem key={number.toString()}
                  value={number} /&gt;

      )}
    &lt;/ul&gt;
  );
}
</code></pre><h2><span id="18-forms">1.8 Forms</span><a href="#18-forms" class="header-anchor">#</a></h2><p>Form elements natuarlly keep some internal state.</p>
<pre><code>&lt;form&gt;
  &lt;label&gt;
    Name:
    &lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;
  &lt;/label&gt;
  &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;
&lt;/form&gt;
</code></pre><p>React can use controlled components to achieve this. </p>
<h3><span id="181-controlled-components-form">1.8.1 Controlled Components – Form</span><a href="#181-controlled-components-form" class="header-anchor">#</a></h3><p>In HTML, input, textaream select typically <strong>maintain their own state and update it based on user input</strong>. In React, mutable state is typically kept in the state property of components, and only updated with <code>setState()</code>.</p>
<pre><code>class NameForm extends React.Component {
  constructor(props) {
    super(props);
    this.state = {value: &apos;&apos;};

    this.handleChange = this.handleChange.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
  }

  handleChange(event) {
    this.setState({value: event.target.value});
  }

  handleSubmit(event) {
    alert(&apos;A name was submitted: &apos; + this.state.value);
    event.preventDefault();
  }

  render() {
    return (
      &lt;form onSubmit={this.handleSubmit}&gt;
        &lt;label&gt;
          Name:
          &lt;input type=&quot;text&quot; value={this.state.value} onChange={this.handleChange} /&gt;
        &lt;/label&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;
      &lt;/form&gt;
    );
  }
}
</code></pre><p>Controlled Component, in this way, use <code>state</code> in React to control the change of text. With a controlled component, <strong><em>every state mutaion will have an associated handler function</em></strong>, This makes it straightforward to modify or validate user input. </p>
<h3><span id="182-controlled-components-textarea">1.8.2 Controlled Components – textarea</span><a href="#182-controlled-components-textarea" class="header-anchor">#</a></h3><pre><code>class EssayForm extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      value: &apos;Please write an essay about your favorite DOM element.&apos;
    };

    this.handleChange = this.handleChange.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
  }

  handleChange(event) {
    this.setState({value: event.target.value});
  }

  handleSubmit(event) {
    alert(&apos;An essay was submitted: &apos; + this.state.value);
    event.preventDefault();
  }

  render() {
    return (
      &lt;form onSubmit={this.handleSubmit}&gt;
        &lt;label&gt;
          Essay:
          &lt;textarea value={this.state.value} onChange={this.handleChange} /&gt;
        &lt;/label&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;
      &lt;/form&gt;
    );
  }
}
</code></pre><p>Have the value property, and associate it with state. change it by handler function, and deal with it with a chain of handlers. </p>
<h3><span id="183-controlled-components-select">1.8.3 Controlled Components – select</span><a href="#183-controlled-components-select" class="header-anchor">#</a></h3><pre><code>&lt;select&gt;
  &lt;option value=&quot;grapefruit&quot;&gt;Grapefruit&lt;/option&gt;
  &lt;option value=&quot;lime&quot;&gt;Lime&lt;/option&gt;
  &lt;option selected value=&quot;coconut&quot;&gt;Coconut&lt;/option&gt;
  &lt;option value=&quot;mango&quot;&gt;Mango&lt;/option&gt;
&lt;/select&gt;
</code></pre><p>coconut has been selected with the selected property </p>
<pre><code>class FlavorForm extends React.Component {
  constructor(props) {
    super(props);
    this.state = {value: &apos;coconut&apos;};

    this.handleChange = this.handleChange.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
  }

  handleChange(event) {
    this.setState({value: event.target.value});
  }

  handleSubmit(event) {
    alert(&apos;Your favorite flavor is: &apos; + this.state.value);
    event.preventDefault();
  }

  render() {
    return (
      &lt;form onSubmit={this.handleSubmit}&gt;
        &lt;label&gt;
          Pick your favorite flavor:
          &lt;select value={this.state.value} onChange={this.handleChange}&gt;
            &lt;option value=&quot;grapefruit&quot;&gt;Grapefruit&lt;/option&gt;
            &lt;option value=&quot;lime&quot;&gt;Lime&lt;/option&gt;
            &lt;option value=&quot;coconut&quot;&gt;Coconut&lt;/option&gt;
            &lt;option value=&quot;mango&quot;&gt;Mango&lt;/option&gt;
          &lt;/select&gt;
        &lt;/label&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Submit&quot; /&gt;
      &lt;/form&gt;
    );
  }
}
</code></pre><p>By setting the start state as cconut, we realize the same function as you see in the HTML part. But come to be more extenable since when we want to change its states, we only need to change this component’s state. </p>
<h3><span id="184-handling-multiple-inputs">1.8.4 Handling multiple inputs</span><a href="#184-handling-multiple-inputs" class="header-anchor">#</a></h3><p>when need to handle multiple controlled input elements, you can add a name attribute to each element and let the handler function choose what to do based on the value of <code>event.target.name</code>.</p>
<pre><code>class Reservation extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      isGoing: true,
      numberOfGuests: 2
    };

    this.handleInputChange = this.handleInputChange.bind(this);
  }

  handleInputChange(event) {
    const target = event.target;
    const value = target.type === &apos;checkbox&apos; ? target.checked : target.value;
    const name = target.name;

    this.setState({
      [name]: value
    });
  }

  render() {
    return (
      &lt;form&gt;
        &lt;label&gt;
          Is going:
          &lt;input
            name=&quot;isGoing&quot;
            type=&quot;checkbox&quot;
            checked={this.state.isGoing}
            onChange={this.handleInputChange} /&gt;
        &lt;/label&gt;
        &lt;br /&gt;
        &lt;label&gt;
          Number of guests:
          &lt;input
            name=&quot;numberOfGuests&quot;
            type=&quot;number&quot;
            value={this.state.numberOfGuests}
            onChange={this.handleInputChange} /&gt;
        &lt;/label&gt;
      &lt;/form&gt;
    );
  }
}
</code></pre><p><code>handleInputChange</code> here controls two input, one is a checkbox, another is a scrolled banner. That’s the reason we need to judge target type in function. However, I do think there is no need to combine those two sub component, and use one handler function, at least in this example. </p>
<blockquote>
<p>Notice: in <code>setState</code>, we use <code>[name] : value</code>. It’s because <strong><em>name is a computed property, [] means need to compute here</em></strong>. </p>
</blockquote>
<h2><span id="19-lifting-state-up">1.9 Lifting state up</span><a href="#19-lifting-state-up" class="header-anchor">#</a></h2><p>Happen when several components need to reflext the same changing data. Need to lifting the shared state up to their closest common ancestor. </p>
<pre><code>const scaleNames = {
  c: &apos;Celsius&apos;,
  f: &apos;Fahrenheit&apos;
};

function toCelsius(fahrenheit) {
  return (fahrenheit - 32) * 5 / 9;
}

function toFahrenheit(celsius) {
  return (celsius * 9 / 5) + 32;
}

function tryConvert(temperature, convert) {
  const input = parseFloat(temperature);
  if (Number.isNaN(input)) {
    return &apos;&apos;;
  }
  const output = convert(input);
  const rounded = Math.round(output * 1000) / 1000;
  return rounded.toString();
}

function BoilingVerdict(props) {
  if (props.celsius &gt;= 100) {
    return &lt;p&gt;The water would boil.&lt;/p&gt;;
  }
  return &lt;p&gt;The water would not boil.&lt;/p&gt;;
}

class TemperatureInput extends React.Component {
  constructor(props) {
    super(props);
    this.handleChange = this.handleChange.bind(this);
  }

  handleChange(e) {
    this.props.onTemperatureChange(e.target.value);
  }

  render() {
    const temperature = this.props.temperature;
    const scale = this.props.scale;
    return (
      &lt;fieldset&gt;
        &lt;legend&gt;Enter temperature in {scaleNames[scale]}:&lt;/legend&gt;
        &lt;input value={temperature}
               onChange={this.handleChange} /&gt;
      &lt;/fieldset&gt;
    );
  }
}

class Calculator extends React.Component {
  constructor(props) {
    super(props);
    this.handleCelsiusChange = this.handleCelsiusChange.bind(this);
    this.handleFahrenheitChange = this.handleFahrenheitChange.bind(this);
    this.state = {temperature: &apos;&apos;, scale: &apos;c&apos;};
  }

  handleCelsiusChange(temperature) {
    this.setState({scale: &apos;c&apos;, temperature});
  }

  handleFahrenheitChange(temperature) {
    this.setState({scale: &apos;f&apos;, temperature});
  }

  render() {
    const scale = this.state.scale;
    const temperature = this.state.temperature;
    const celsius = scale === &apos;f&apos; ? tryConvert(temperature, toCelsius) : temperature;
    const fahrenheit = scale === &apos;c&apos; ? tryConvert(temperature, toFahrenheit) : temperature;

    return (
      &lt;div&gt;
        &lt;TemperatureInput
          scale=&quot;c&quot;
          temperature={celsius}
          onTemperatureChange={this.handleCelsiusChange} /&gt;
        &lt;TemperatureInput
          scale=&quot;f&quot;
          temperature={fahrenheit}
          onTemperatureChange={this.handleFahrenheitChange} /&gt;
        &lt;BoilingVerdict
          celsius={parseFloat(celsius)} /&gt;
      &lt;/div&gt;
    );
  }
}

ReactDOM.render(
  &lt;Calculator /&gt;,
  document.getElementById(&apos;root&apos;)
);
</code></pre><ol>
<li>Lifting state, React calls the function specified as onChange on the DOM <input>. In our case, this is the handleChange method in the TemperatureInput component.</li>
<li>The handleChange method in the TemperatureInput component calls <strong>this.props.onTemperatureChange()</strong> with the new desired value. Its props, including onTemperatureChange, were provided by its parent component, the Calculator.</li>
<li>When it previously rendered, the Calculator has specified that onTemperatureChange of the Celsius TemperatureInput is the Calculator’s handleCelsiusChange method, and onTemperatureChange of the Fahrenheit TemperatureInput is the Calculator’s handleFahrenheitChange method. So either of these two Calculator methods gets called depending on which input we edited.</li>
<li>Inside these methods, the Calculator component asks React to re-render itself by calling this.setState() with the new input value and the current scale of the input we just edited.</li>
<li>React calls the Calculator component’s render method to learn what the UI should look like. The values of both inputs are recomputed based on the current temperature and the active scale. The temperature conversion is performed here.</li>
<li>React calls the render methods of the individual TemperatureInput components with their new props specified by the Calculator. It learns what their UI should look like.</li>
<li>React calls the render method of the BoilingVerdict component, passing the temperature in Celsius as its props.</li>
<li>React DOM updates the DOM with the boiling verdict and to match the desired input values. The input we just edited receives its current value, and the other input is updated to the temperature after conversion.</li>
</ol>
<p>Usually, the state is first added to the component that needs it for rendering, Then it other components also need it, you can lift it up to their closest common ancestor. </p>
<h2><span id="110-compisition-vs-inheritance">1.10 Compisition vs Inheritance</span><a href="#110-compisition-vs-inheritance" class="header-anchor">#</a></h2><p>React has a powerful composition model, and we recommend <strong>using composition</strong> instead of inheritance to <strong>reuse code</strong> between components. </p>
<h3><span id="1101-containment">1.10.1 Containment</span><a href="#1101-containment" class="header-anchor">#</a></h3><p>Some component don’t know their children ahead of time. This is especially common for components like SideBar or Dialog that represent generic boxes. </p>
<p>We can use <code>children</code> props to pass children elements derectly into their output. </p>
<pre><code>function FancyBorder(props) {
  return (
    &lt;div className={&apos;FancyBorder FancyBorder-&apos; + props.color}&gt;
      {props.children}
    &lt;/div&gt;
  );
}

function WelcomeDialog() {
  return (
    &lt;FancyBorder color=&quot;blue&quot;&gt;
      &lt;h1 className=&quot;Dialog-title&quot;&gt;
        Welcome
      &lt;/h1&gt;
      &lt;p className=&quot;Dialog-message&quot;&gt;
        Thank you for visiting our spacecraft!
      &lt;/p&gt;
    &lt;/FancyBorder&gt;
  );
}
</code></pre><p>Anything inside the <code>&lt;FancyBorder&gt;</code> JSX tag gets passed into the FancyBorder component as a children prop. Since FancyBorder renders <code>{props.children}</code> inside a <code>&lt;div&gt;</code>, then passed elements appear in the final output. </p>
<p>And also, we can use your own props and pass it inside. </p>
<pre><code>function SplitPane(props) {
  return (
    &lt;div className=&quot;SplitPane&quot;&gt;
      &lt;div className=&quot;SplitPane-left&quot;&gt;
        {props.left}
      &lt;/div&gt;
      &lt;div className=&quot;SplitPane-right&quot;&gt;
        {props.right}
      &lt;/div&gt;
    &lt;/div&gt;
  );
}

function App() {
  return (
    &lt;SplitPane
      left={
        &lt;Contacts /&gt;
      }
      right={
        &lt;Chat /&gt;
      } /&gt;
  );
}
</code></pre><h3><span id="1102-specialization">1.10.2 Specialization</span><a href="#1102-specialization" class="header-anchor">#</a></h3><p>A more specific component renders a more generic one and configures it with props: </p>
<pre><code>function Dialog(props) {
  return (
    &lt;FancyBorder color=&quot;blue&quot;&gt;
      &lt;h1 className=&quot;Dialog-title&quot;&gt;
        {props.title}
      &lt;/h1&gt;
      &lt;p className=&quot;Dialog-message&quot;&gt;
        {props.message}
      &lt;/p&gt;
    &lt;/FancyBorder&gt;
  );
}

function WelcomeDialog() {
  return (
    &lt;Dialog
      title=&quot;Welcome&quot;
      message=&quot;Thank you for visiting our spacecraft!&quot; /&gt;
  );
</code></pre><h3><span id="1103-example">1.10.3 Example</span><a href="#1103-example" class="header-anchor">#</a></h3><pre><code>function Dialog(props) {
  return (
    &lt;FancyBorder color=&quot;blue&quot;&gt;
      &lt;h1 className=&quot;Dialog-title&quot;&gt;
        {props.title}
      &lt;/h1&gt;
      &lt;p className=&quot;Dialog-message&quot;&gt;
        {props.message}
      &lt;/p&gt;
      {props.children}
    &lt;/FancyBorder&gt;
  );
}

class SignUpDialog extends React.Component {
  constructor(props) {
    super(props);
    this.handleChange = this.handleChange.bind(this);
    this.handleSignUp = this.handleSignUp.bind(this);
        this.state = {login: &apos;&apos;};
      }

      render() {
        return (
          &lt;Dialog title=&quot;Mars Exploration Program&quot;
                  message=&quot;How should we refer to you?&quot;&gt;
            &lt;input value={this.state.login}
                   onChange={this.handleChange} /&gt;
            &lt;button onClick={this.handleSignUp}&gt;
              Sign Me Up!
            &lt;/button&gt;
          &lt;/Dialog&gt;
        );
      }

      handleChange(e) {
        this.setState({login: e.target.value});
      }

      handleSignUp() {
        alert(`Welcome aboard, ${this.state.login}!`);
      }
    }
</code></pre><h1><span id="2-thinking-how-to-build-an-product-from-scratch">2. Thinking - How to build an product from scratch</span><a href="#2-thinking-how-to-build-an-product-from-scratch" class="header-anchor">#</a></h1><ol>
<li>Start with a mock: UI + Json API</li>
<li>Break the UI into a Component Hierarchy </li>
<li>Separate to different components, following <strong><em>single responsibility principle</em></strong>. A component should ideally only do one thing. </li>
<li><p>Build a static version in react </p>
<ul>
<li>decouple styling and interactivity </li>
<li>static version always use props, since state is reserved only for interactivity </li>
<li>Larger project, easier bottom up. </li>
<li>Don’t repeat yourself</li>
</ul>
</li>
<li><p>Identify the minimal representation of UI state</p>
<ul>
<li>Is it passed in from a parent via props? If so, it probably isn’t state.</li>
<li>Does it remain unchanged over time? If so, it probably isn’t state.</li>
<li>Can you compute it based on any other state or props in your component? If so, it isn’t state.</li>
</ul>
</li>
<li>Idenfify where your state should live </li>
</ol>
<h1><span id="reference">Reference</span><a href="#reference" class="header-anchor">#</a></h1><ol>
<li><a href="https://reactjs.org/docs/hello-world.html" target="_blank" rel="noopener">REACT DOC</a></li>
</ol>
<p><div id="disqus_thread"></div></p>
<script>

<p>/**</p>
<ul>
<li>RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.</li>
<li>LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: <a href="https://disqus.com/admin/universalcode/#configuration-variables*/">https://disqus.com/admin/universalcode/#configuration-variables*/</a><br>/<em><br>var disqus_config = function () {<br>this.page.url = PAGE_URL;  // Replace PAGE_URL with your page’s canonical URL variable<br>this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page’s unique identifier variable<br>};
</em>/<br>(function() { // DON’T EDIT BELOW THIS LINE<br>var d = document, s = d.createElement(‘script’);<br>s.src = ‘<a href="https://leileichen.disqus.com/embed.js&#39;">https://leileichen.disqus.com/embed.js&#39;</a>;<br>s.setAttribute(‘data-timestamp’, +new Date());<br>(d.head || d.body).appendChild(s);<br>})();<br></script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>



                <hr>

                

                <ul class="pager">
                    
                        <li class="previous">
                            <a href="/2018/11/25/React-Advanced-2/" data-toggle="tooltip" data-placement="top" title="React Advanced 2">&larr; Previous Post</a>
                        </li>
                    
                    
                        <li class="next">
                            <a href="/2018/11/19/抽象工厂模式/" data-toggle="tooltip" data-placement="top" title="抽象工厂模式">Next Post &rarr;</a>
                        </li>
                    
                </ul>

                

                
                <!-- disqus 评论框 start -->
                <div class="comment">
                    <div id="disqus_thread" class="disqus-thread"></div>
                </div>
                <!-- disqus 评论框 end -->
                

            </div>
    <!-- Side Catalog Container -->
        

    <!-- Sidebar Container -->

            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <!-- no hr -->
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
                       
                          <a class="tag" href="/tags/#React" title="React">React</a>
                        
                          <a class="tag" href="/tags/#FrontEnd" title="FrontEnd">FrontEnd</a>
                        
                    </div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">

                    
                        <li><a href="http://blog.kaijun.rocks" target="_blank">Kaijun&#39;s Blog</a></li>
                    
                        <li><a href="http://huangxuan.me" target="_blank">Hux Blog</a></li>
                    
                        <li><a href="http://Yinwang.org" target="_blank">Yin Wang</a></li>
                    
                        <li><a href="https://bideyuanli.com/" target="_blank">比的原理</a></li>
                    
                        <li><a href="https://www.fangzhipeng.com/" target="_blank">方志朋的博客</a></li>
                    
                </ul>
                
            </div>

        </div>
    </div>
</article>




<script>
  var disqus_shortname = 'leilei-blog';
  
  var disqus_url = 'https://llchen60.com/2018/11/24/React-Advanced-1/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>




<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>



    <!-- Footer -->
    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                
                
                
                    <li>
                        <a target="_blank" href="https://www.zhihu.com/people/cc-stone">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa  fa-stack-1x fa-inverse">知</i>
                            </span>
                        </a>
                    </li>
                

                

                
                    <li>
                        <a target="_blank" href="https://www.facebook.com/llchen60">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank"  href="https://github.com/stone16">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                
                    <li>
                        <a target="_blank"  href="https://www.linkedin.com/in/leilei-chen-837870b4">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                

                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; Leilei&#39;s Blog 2018 
                    <br>
                    Theme by <a href="http://huangxuan.me">Hux</a> 
                    <span style="display: inline-block; margin: 0 5px;">
                        <i class="fa fa-heart"></i>
                    </span> 
                    Ported by <a href="http://blog.kaijun.rocks">Kaijun</a> | 
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js"></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js"></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js"></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/    
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async("https://llchen60.com/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->


<script>
    // dynamic User by Hux
    var _gaId = 'UA-127393934-1';
    var _gaDomain = 'llchen60.com';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>




<!-- Baidu Tongji -->


<!-- Side Catalog -->





<!-- Image to hack wechat -->
<img src="https://llchen60.com/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
