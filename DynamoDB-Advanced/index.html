<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>DynamoDB-Advanced | Leilei&#39;s Blog | 磊磊的博客</title>
  <meta name="keywords" content=" AWS , DynamoDB ">
  <meta name="description" content="DynamoDB-Advanced | Leilei&#39;s Blog | 磊磊的博客">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="My thoughts从18年入职开始写起，一直到现在。最深的感受是 – 输出真的能促进输入，希望自己的一些想法能对正在看这个博客的你有所帮助。如果觉得哪篇文章有瑕疵&#x2F; 问题，欢迎留言，共勉！ 感谢！ 内推Offer STRONG referral to Amazon, send email to amazonreferll@gmail.com with your resume, your sel">
<meta property="og:type" content="website">
<meta property="og:title" content="about">
<meta property="og:url" content="https://www.llchen60.com/about/index.html">
<meta property="og:site_name" content="Leilei&#39;s Blog | 磊磊的博客">
<meta property="og:description" content="My thoughts从18年入职开始写起，一直到现在。最深的感受是 – 输出真的能促进输入，希望自己的一些想法能对正在看这个博客的你有所帮助。如果觉得哪篇文章有瑕疵&#x2F; 问题，欢迎留言，共勉！ 感谢！ 内推Offer STRONG referral to Amazon, send email to amazonreferll@gmail.com with your resume, your sel">
<meta property="article:published_time" content="2020-01-28T03:31:33.000Z">
<meta property="article:modified_time" content="2020-02-02T06:06:58.021Z">
<meta property="article:author" content="Leilei Chen">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.0.1" rel="stylesheet">

<link href="/css/hl_theme/darcula.css?v=1.0.1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1.0.1" ></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>


<script id="dsq-count-scr" src="//leilei-blog.disqus.com/count.js" async></script>


<script src="/js/iconfont.js?v=1.0.1" ></script>

<meta name="generator" content="Hexo 4.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="true">
  <input class="theme_preload_comment" value="true">
  <input class="theme_blog_path" value="">
</div>

<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>Leilei Chen</span>
</div>

<div class="icon">
    
        
    
        
        <a title="github" href="https://github.com/stone16" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
        <a title="linkedin" href="https://www.linkedin.com/in/leilei-chen-837870b4/" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-linkedin"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="email" href="mailto:stone2paul@gmail.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
</div>




<ul>
    <li><div class="all active">全部文章<small>(107)</small></div></li>
    
        
            
            <li><div data-rel="Web">Web<small>(36)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Cloud">Cloud<small>(24)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="FrontEnd">FrontEnd<small>(19)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Notes">Notes<small>(16)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Tools">Tools<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="BackEnd">BackEnd<small>(3)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Linux">Linux<small>(7)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="System Design">System Design<small>(1)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">关于</a><a style="width: 50%"  class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="107">
<input type="hidden" id="yelog_site_word_count" value="210.9k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode==13){return false;}">
        <input class="search" type="text" placeholder="以 in: 开头进行全文搜索" autocomplete="off"id="local-search-input" >
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none" />
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a class="color3">RESTFul</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Web</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">AWS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">DynamoDB</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Mapper</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">VPC</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Lambda</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Distributed Tracing</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Security</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Agility</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Elasticity</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Reliability</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">FrontEnd</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">CSS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Curl</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">EC2</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">ELB</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">AutoScaling</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Docker</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">ECS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">CI/ CD</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Identity and Access Management</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">CloudWatch</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">CloudTrail</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">S3</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Serverless</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">NoSQL</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Gateway</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">SQS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">SNS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Notification Service</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Queue</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Step Functions</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">ElasticCache</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">System Design</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Elastic Search</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">food</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">diet</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">reading</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Tips</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">HTTP</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Network</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">认证授权</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">JavaScript</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Callback</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Java</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Concurrency</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Synchronized</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Lock</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">BackEnd</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">LDAP</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Object Oriented</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Linux</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Cli</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">平均负载</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">CPU Utilization</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Context Switch</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">NightWatch</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">UI Test</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">RPC</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Puppeteer</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">React</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Scalibility</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Web Accessibility</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Tomcat</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">TypeScript</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Browser</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Batch Processing</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Web Development</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">i18next</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">thought</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">society</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">history</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">world war</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">5G</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">GPS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Uber</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">time management</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Sam Altman</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Regex</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">CDN</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">network</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">TCP/ IP</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Thought</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Reading</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Cloud</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">流媒体协议</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">P2P</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">DNS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">HTTP 2.0</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">QUIC</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">HTTPS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Data Center</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">VPN</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">UDP</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">TCP</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Socket</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">SOAP</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Distributed System</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">rafactor</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">IP Protocol</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">CIDR</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">DHCP</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">ICMP</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Router</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Japan</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">finance</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">stock</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">DDD</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        <a  class="System Design "
           href="/DDD-%E9%A2%86%E5%9F%9F%E9%A9%B1%E5%8A%A8%E8%AE%BE%E8%AE%A1/"
           data-tag="DDD"
           data-author="" >
            <span class="post-title" title="DDD-领域驱动设计">DDD-领域驱动设计</span>
            <span class="post-date" title="2020-02-02 08:04:32">2020/02/02</span>
        </a>
        
        <a  class="Web "
           href="/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E5%8D%81%E4%B8%80-%E7%94%A8%E5%8F%8C%E5%8D%81%E4%B8%80%E7%90%86%E9%A1%BA%E8%B5%B7%E6%9D%A5%E7%9A%84%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/"
           data-tag="Network,Distributed System"
           data-author="" >
            <span class="post-title" title="网络协议(十一)-用双十一理顺起来的网络协议">网络协议(十一)-用双十一理顺起来的网络协议</span>
            <span class="post-date" title="2020-02-01 21:58:42">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E5%8D%81-RPC-SOAP-RESTful/"
           data-tag="RESTFul,RPC,SOAP"
           data-author="" >
            <span class="post-title" title="网络协议(十) - RPC, SOAP, RESTful">网络协议(十) - RPC, SOAP, RESTful</span>
            <span class="post-date" title="2020-02-01 21:53:34">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E4%B9%9D-%E4%BA%91/"
           data-tag="Cloud"
           data-author="" >
            <span class="post-title" title="网络协议(九)-云">网络协议(九)-云</span>
            <span class="post-date" title="2020-02-01 19:52:09">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E5%85%AB-%E6%95%B0%E6%8D%AE%E4%B8%AD%E5%BF%83-VPN-%E7%A7%BB%E5%8A%A8%E7%BD%91%E7%BB%9C/"
           data-tag="Data Center,VPN"
           data-author="" >
            <span class="post-title" title="网络协议(八)-数据中心, VPN, 移动网络">网络协议(八)-数据中心, VPN, 移动网络</span>
            <span class="post-date" title="2020-02-01 19:44:17">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E4%B8%83-%E6%B5%81%E5%AA%92%E4%BD%93%E5%8D%8F%E8%AE%AE-%E7%BD%91%E7%BB%9C%E7%9B%B4%E6%92%AD%E5%BD%93%E4%B8%AD%E7%9A%84%E8%A7%86%E9%A2%91%E5%8E%8B%E7%BC%A9%E4%B8%8E%E4%BC%A0%E6%92%AD%E9%97%AE%E9%A2%98/"
           data-tag="Network,CDN,流媒体协议,P2P,DNS"
           data-author="" >
            <span class="post-title" title="网络协议(七)-流媒体协议(网络直播当中的视频压缩与传播问题)">网络协议(七)-流媒体协议(网络直播当中的视频压缩与传播问题)</span>
            <span class="post-date" title="2020-02-01 19:38:44">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E5%85%AD-%E5%BA%94%E7%94%A8%E5%B1%82/"
           data-tag="HTTP,Network,HTTP 2.0,QUIC,HTTPS"
           data-author="" >
            <span class="post-title" title="网络协议(六)-应用层">网络协议(六)-应用层</span>
            <span class="post-date" title="2020-02-01 17:42:56">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E4%BA%94-%E4%BC%A0%E8%BE%93%E5%B1%82/"
           data-tag="Network,UDP,TCP,Socket"
           data-author="" >
            <span class="post-title" title="网络协议(五)-传输层">网络协议(五)-传输层</span>
            <span class="post-date" title="2020-02-01 16:50:39">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E5%9B%9B-%E7%BD%91%E7%BB%9C%E5%B1%82/"
           data-tag="Network,IP Protocol,CIDR,DHCP,ICMP,Router"
           data-author="" >
            <span class="post-title" title="网络协议(四)-网络层">网络协议(四)-网络层</span>
            <span class="post-date" title="2020-02-01 16:45:42">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E4%B8%89-%E9%93%BE%E8%B7%AF%E5%B1%82/"
           data-tag="Network"
           data-author="" >
            <span class="post-title" title="网络协议(三)-链路层">网络协议(三)-链路层</span>
            <span class="post-date" title="2020-02-01 16:43:47">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E4%BA%8C-%E7%89%A9%E7%90%86%E5%B1%82/"
           data-tag="Network"
           data-author="" >
            <span class="post-title" title="网络协议(二)-物理层">网络协议(二)-物理层</span>
            <span class="post-date" title="2020-02-01 16:42:56">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE-%E4%B8%80-%E6%A1%86%E6%9E%B6/"
           data-tag="Network"
           data-author="" >
            <span class="post-title" title="网络协议(一) -- 框架">网络协议(一) -- 框架</span>
            <span class="post-date" title="2020-02-01 16:42:04">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/Tomcat-%E8%BF%9E%E6%8E%A5%E5%99%A8/"
           data-tag="Tomcat"
           data-author="" >
            <span class="post-title" title="Tomcat - 连接器">Tomcat - 连接器</span>
            <span class="post-date" title="2020-02-01 14:24:18">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/Tomcat-Servlet%E8%A7%84%E8%8C%83%E5%92%8CServlet%E5%AE%B9%E5%99%A8/"
           data-tag="Tomcat"
           data-author="" >
            <span class="post-title" title="Tomcat - Servlet规范和Servlet容器">Tomcat - Servlet规范和Servlet容器</span>
            <span class="post-date" title="2020-02-01 14:22:47">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/Tomcat-%E4%BB%80%E4%B9%88%E6%98%AFWeb%E5%AE%B9%E5%99%A8-cookie-session/"
           data-tag="Tomcat"
           data-author="" >
            <span class="post-title" title="Tomcat - 什么是Web容器, cookie &amp; session">Tomcat - 什么是Web容器, cookie &amp; session</span>
            <span class="post-date" title="2020-02-01 14:22:02">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/Tomcat-%E4%BC%98%E5%8C%96Tomcat%E5%90%AF%E5%8A%A8%E9%80%9F%E5%BA%A6/"
           data-tag="Tomcat"
           data-author="" >
            <span class="post-title" title="Tomcat - 优化Tomcat启动速度">Tomcat - 优化Tomcat启动速度</span>
            <span class="post-date" title="2020-02-01 14:20:22">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/Tomcat-%E8%BF%90%E8%A1%8C%E7%AC%AC%E4%B8%80%E4%B8%AA-Servlet/"
           data-tag="Tomcat"
           data-author="" >
            <span class="post-title" title="Tomcat - 运行第一个 Servlet">Tomcat - 运行第一个 Servlet</span>
            <span class="post-date" title="2020-02-01 14:19:17">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/Tomcat-%E6%95%B4%E4%BD%93%E6%9E%B6%E6%9E%84/"
           data-tag="Tomcat"
           data-author="" >
            <span class="post-title" title="Tomcat - 整体架构">Tomcat - 整体架构</span>
            <span class="post-date" title="2020-02-01 14:15:34">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/Web-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%98%AF%E5%A6%82%E4%BD%95%E6%9E%84%E6%88%90%E7%9A%84-%E5%9B%9B/"
           data-tag="Web,Browser"
           data-author="" >
            <span class="post-title" title="Web 浏览器是如何构成的(四)">Web 浏览器是如何构成的(四)</span>
            <span class="post-date" title="2020-02-01 14:14:28">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/Web-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%98%AF%E5%A6%82%E4%BD%95%E6%9E%84%E6%88%90%E7%9A%84-%E4%B8%89/"
           data-tag="Web,Browser"
           data-author="" >
            <span class="post-title" title="Web 浏览器是如何构成的(三)">Web 浏览器是如何构成的(三)</span>
            <span class="post-date" title="2020-02-01 14:13:39">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/Web-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%98%AF%E5%A6%82%E4%BD%95%E6%9E%84%E6%88%90%E7%9A%84-%E4%BA%8C/"
           data-tag="Web,Browser"
           data-author="" >
            <span class="post-title" title="Web 浏览器是如何构成的(二)">Web 浏览器是如何构成的(二)</span>
            <span class="post-date" title="2020-02-01 14:12:48">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/Web-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%98%AF%E5%A6%82%E4%BD%95%E6%9E%84%E6%88%90%E7%9A%84-%E4%B8%80/"
           data-tag="Web,Browser"
           data-author="" >
            <span class="post-title" title="Web 浏览器是如何构成的(一)">Web 浏览器是如何构成的(一)</span>
            <span class="post-date" title="2020-02-01 11:39:48">2020/02/01</span>
        </a>
        
        <a  class="Notes "
           href="/%E5%85%B3%E4%BA%8E5G/"
           data-tag="Network,5G"
           data-author="" >
            <span class="post-title" title="关于5G">关于5G</span>
            <span class="post-date" title="2020-02-01 11:15:52">2020/02/01</span>
        </a>
        
        <a  class="Web "
           href="/API-%E9%87%8D%E6%96%B0%E8%AE%A4%E8%AF%86RESTFUL/"
           data-tag="RESTFul,Web"
           data-author="" >
            <span class="post-title" title="API-重新认识RESTFUL">API-重新认识RESTFUL</span>
            <span class="post-date" title="2020-01-31 21:02:19">2020/01/31</span>
        </a>
        
        <a  class="FrontEnd "
           href="/Thoughts-on-web-accessibility-%E4%BF%A1%E6%81%AF%E6%97%A0%E9%9A%9C%E7%A2%8D/"
           data-tag="FrontEnd,Web Accessibility"
           data-author="" >
            <span class="post-title" title="Thoughts on web accessibility(信息无障碍)">Thoughts on web accessibility(信息无障碍)</span>
            <span class="post-date" title="2020-01-31 21:00:52">2020/01/31</span>
        </a>
        
        <a  class="Web "
           href="/RPC%E5%8D%8F%E8%AE%AE/"
           data-tag="Web,RPC"
           data-author="" >
            <span class="post-title" title="RPC协议">RPC协议</span>
            <span class="post-date" title="2020-01-31 20:59:08">2020/01/31</span>
        </a>
        
        <a  class="Web "
           href="/RESTful-vs-RPC/"
           data-tag="RESTFul,RPC"
           data-author="" >
            <span class="post-title" title="RESTful vs RPC">RESTful vs RPC</span>
            <span class="post-date" title="2020-01-31 20:58:01">2020/01/31</span>
        </a>
        
        <a  class="Web "
           href="/LDAP-Intro/"
           data-tag="Web,LDAP"
           data-author="" >
            <span class="post-title" title="LDAP Intro">LDAP Intro</span>
            <span class="post-date" title="2020-01-31 20:25:59">2020/01/31</span>
        </a>
        
        <a  class="Web "
           href="/HTTP-API%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83-%E4%B8%83-OAuth-2-0/"
           data-tag="HTTP,Network,认证授权"
           data-author="" >
            <span class="post-title" title="HTTP API认证与授权(七) - OAuth 2.0">HTTP API认证与授权(七) - OAuth 2.0</span>
            <span class="post-date" title="2020-01-31 20:24:28">2020/01/31</span>
        </a>
        
        <a  class="Web "
           href="/HTTP-API%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83-%E5%85%AD-OAuth-1-0/"
           data-tag="HTTP,Network,认证授权"
           data-author="" >
            <span class="post-title" title="HTTP API认证与授权(六) - OAuth 1.0">HTTP API认证与授权(六) - OAuth 1.0</span>
            <span class="post-date" title="2020-01-31 20:23:15">2020/01/31</span>
        </a>
        
        <a  class="Web "
           href="/HTTP-API%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83-%E4%BA%94-JWT/"
           data-tag="HTTP,Network,认证授权"
           data-author="" >
            <span class="post-title" title="HTTP API认证与授权(五) - JWT">HTTP API认证与授权(五) - JWT</span>
            <span class="post-date" title="2020-01-31 18:58:09">2020/01/31</span>
        </a>
        
        <a  class="Web "
           href="/HTTP-API%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83-%E5%9B%9B-App-Secret-Key-HMAC/"
           data-tag="HTTP,Network,认证授权"
           data-author="" >
            <span class="post-title" title="HTTP API认证与授权(四) - App Secret Key, HMAC">HTTP API认证与授权(四) - App Secret Key, HMAC</span>
            <span class="post-date" title="2020-01-31 18:56:59">2020/01/31</span>
        </a>
        
        <a  class="Web "
           href="/HTTP-API%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83-%E4%B8%89-Digest-Access/"
           data-tag="HTTP,Network,认证授权"
           data-author="" >
            <span class="post-title" title="HTTP API认证与授权(三) - Digest Access">HTTP API认证与授权(三) - Digest Access</span>
            <span class="post-date" title="2020-01-31 18:55:56">2020/01/31</span>
        </a>
        
        <a  class="Web "
           href="/HTTP-API%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83-%E4%BA%8C-HTTP-Basic/"
           data-tag="HTTP,Network,认证授权"
           data-author="" >
            <span class="post-title" title="HTTP API认证与授权(二) - HTTP Basic">HTTP API认证与授权(二) - HTTP Basic</span>
            <span class="post-date" title="2020-01-31 18:54:18">2020/01/31</span>
        </a>
        
        <a  class="Web "
           href="/HTTP-API%E8%AE%A4%E8%AF%81%E4%B8%8E%E6%8E%88%E6%9D%83-%E4%B8%80-general/"
           data-tag="HTTP,Network,认证授权"
           data-author="" >
            <span class="post-title" title="HTTP API认证与授权(一) - general">HTTP API认证与授权(一) - general</span>
            <span class="post-date" title="2020-01-31 18:52:42">2020/01/31</span>
        </a>
        
        <a  class="Web "
           href="/%E7%BD%91%E7%BB%9C%E7%9F%A5%E8%AF%86%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A/"
           data-tag="Network"
           data-author="" >
            <span class="post-title" title="网络知识必知必会">网络知识必知必会</span>
            <span class="post-date" title="2020-01-31 09:32:22">2020/01/31</span>
        </a>
        
        <a  class="FrontEnd "
           href="/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"
           data-tag="FrontEnd,Regex"
           data-author="" >
            <span class="post-title" title="正则表达式">正则表达式</span>
            <span class="post-date" title="2020-01-30 23:25:28">2020/01/30</span>
        </a>
        
        <a  class="Web "
           href="/Scaling-webapps/"
           data-tag="Web,Scalibility"
           data-author="" >
            <span class="post-title" title="Scaling webapps">Scaling webapps</span>
            <span class="post-date" title="2020-01-30 23:20:10">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/React-capture-click-outside-component/"
           data-tag="FrontEnd,React"
           data-author="" >
            <span class="post-title" title="React - capture click outside component">React - capture click outside component</span>
            <span class="post-date" title="2020-01-30 23:19:07">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/Run-your-first-Puppeteer-with-recorder/"
           data-tag="FrontEnd,UI Test,Puppeteer"
           data-author="" >
            <span class="post-title" title="Run your first Puppeteer with recorder">Run your first Puppeteer with recorder</span>
            <span class="post-date" title="2020-01-30 23:16:31">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/React-Advanced-4/"
           data-tag="FrontEnd,React"
           data-author="" >
            <span class="post-title" title="React Advanced(4)">React Advanced(4)</span>
            <span class="post-date" title="2020-01-30 23:15:33">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/React-Advanced-3/"
           data-tag="FrontEnd,React"
           data-author="" >
            <span class="post-title" title="React Advanced(3)">React Advanced(3)</span>
            <span class="post-date" title="2020-01-30 23:14:44">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/React-Advanced-2/"
           data-tag="FrontEnd,React"
           data-author="" >
            <span class="post-title" title="React Advanced(2)">React Advanced(2)</span>
            <span class="post-date" title="2020-01-30 23:13:49">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/React-Advanced-1/"
           data-tag="FrontEnd,React"
           data-author="" >
            <span class="post-title" title="React Advanced(1)">React Advanced(1)</span>
            <span class="post-date" title="2020-01-30 23:12:13">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/Pupperteer-Tutorial/"
           data-tag="FrontEnd,UI Test,Puppeteer"
           data-author="" >
            <span class="post-title" title="Pupperteer Tutorial">Pupperteer Tutorial</span>
            <span class="post-date" title="2020-01-30 23:11:07">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/NightWatch-JavaScript-Tutorial/"
           data-tag="FrontEnd,JavaScript,NightWatch,UI Test"
           data-author="" >
            <span class="post-title" title="NightWatch JavaScript Tutorial">NightWatch JavaScript Tutorial</span>
            <span class="post-date" title="2020-01-30 22:32:53">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/Typescript-Tutorial/"
           data-tag="FrontEnd,TypeScript"
           data-author="" >
            <span class="post-title" title="Typescript Tutorial">Typescript Tutorial</span>
            <span class="post-date" title="2020-01-30 22:31:34">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/JavaScript-%E6%95%99%E7%A8%8B-part-3/"
           data-tag="FrontEnd,JavaScript"
           data-author="" >
            <span class="post-title" title="JavaScript 教程 - part 3">JavaScript 教程 - part 3</span>
            <span class="post-date" title="2020-01-30 22:30:15">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/JavaScript-%E6%95%99%E7%A8%8B-part-2/"
           data-tag="FrontEnd,JavaScript,Object Oriented"
           data-author="" >
            <span class="post-title" title="JavaScript 教程 - part 2">JavaScript 教程 - part 2</span>
            <span class="post-date" title="2020-01-30 22:28:48">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/JavaScript%E6%95%99%E7%A8%8B-Part-1/"
           data-tag="JavaScript"
           data-author="" >
            <span class="post-title" title="JavaScript教程 Part 1">JavaScript教程 Part 1</span>
            <span class="post-date" title="2020-01-30 21:12:39">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/JavaScript-callback-function/"
           data-tag="FrontEnd,JavaScript,Callback"
           data-author="" >
            <span class="post-title" title="JavaScript - callback function">JavaScript - callback function</span>
            <span class="post-date" title="2020-01-30 20:57:57">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/i18next-tutorial/"
           data-tag="FrontEnd,JavaScript,i18next"
           data-author="" >
            <span class="post-title" title="i18next tutorial">i18next tutorial</span>
            <span class="post-date" title="2020-01-30 20:56:25">2020/01/30</span>
        </a>
        
        <a  class="FrontEnd "
           href="/CSS-pseudo-class-selectors/"
           data-tag="FrontEnd,CSS"
           data-author="" >
            <span class="post-title" title="CSS pseudo class selectors">CSS pseudo class selectors</span>
            <span class="post-date" title="2020-01-30 20:54:22">2020/01/30</span>
        </a>
        
        <a  class="Linux "
           href="/Linux%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-4-CPU%E4%BD%BF%E7%94%A8%E7%8E%87/"
           data-tag="Linux,CPU Utilization"
           data-author="" >
            <span class="post-title" title="Linux性能优化(4)-CPU使用率">Linux性能优化(4)-CPU使用率</span>
            <span class="post-date" title="2020-01-30 20:52:23">2020/01/30</span>
        </a>
        
        <a  class="Linux "
           href="/Linux%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-3-CPU-%E4%B8%8A%E4%B8%8B%E6%96%87%E5%88%87%E6%8D%A2/"
           data-tag="Linux,Context Switch"
           data-author="" >
            <span class="post-title" title="Linux性能优化(3)-CPU 上下文切换">Linux性能优化(3)-CPU 上下文切换</span>
            <span class="post-date" title="2020-01-30 20:50:10">2020/01/30</span>
        </a>
        
        <a  class="Linux "
           href="/Linux%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-2-%E5%B9%B3%E5%9D%87%E8%B4%9F%E8%BD%BD/"
           data-tag="Linux,平均负载"
           data-author="" >
            <span class="post-title" title="Linux性能优化(2)-平均负载">Linux性能优化(2)-平均负载</span>
            <span class="post-date" title="2020-01-30 20:48:55">2020/01/30</span>
        </a>
        
        <a  class="Linux "
           href="/Linux%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96-1-%E6%A6%82%E8%BF%B0/"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Linux性能优化(1)-概述">Linux性能优化(1)-概述</span>
            <span class="post-date" title="2020-01-30 20:47:03">2020/01/30</span>
        </a>
        
        <a  class="Linux "
           href="/Linux-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4-3-Inspired-by-THE-ART-OF-COMMAND-LINE/"
           data-tag="Linux,Cli"
           data-author="" >
            <span class="post-title" title="Linux 常用指令(3) - Inspired by THE ART OF COMMAND LINE">Linux 常用指令(3) - Inspired by THE ART OF COMMAND LINE</span>
            <span class="post-date" title="2020-01-30 20:45:49">2020/01/30</span>
        </a>
        
        <a  class="Linux "
           href="/Linux%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4-2/"
           data-tag="Linux,Cli"
           data-author="" >
            <span class="post-title" title="Linux常用指令(2)">Linux常用指令(2)</span>
            <span class="post-date" title="2020-01-30 20:44:54">2020/01/30</span>
        </a>
        
        <a  class="Linux "
           href="/Linux-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4-1/"
           data-tag="Linux,Cli"
           data-author="" >
            <span class="post-title" title="Linux 常用指令(1)">Linux 常用指令(1)</span>
            <span class="post-date" title="2020-01-30 20:43:36">2020/01/30</span>
        </a>
        
        <a  class="Web "
           href="/Curl-tutorial/"
           data-tag="Curl"
           data-author="" >
            <span class="post-title" title="Curl tutorial">Curl tutorial</span>
            <span class="post-date" title="2020-01-30 20:41:41">2020/01/30</span>
        </a>
        
        <a  class="Notes "
           href="/%E5%A6%82%E4%BD%95%E6%8F%90%E9%AB%98GPS%E7%B2%BE%E5%BA%A6/"
           data-tag="GPS,Uber"
           data-author="" >
            <span class="post-title" title="如何提高GPS精度">如何提高GPS精度</span>
            <span class="post-date" title="2020-01-30 20:40:11">2020/01/30</span>
        </a>
        
        <a  class="Tools "
           href="/Google%E6%90%9C%E7%B4%A2%E6%8A%80%E5%B7%A7/"
           data-tag="Tips"
           data-author="" >
            <span class="post-title" title="Google搜索技巧">Google搜索技巧</span>
            <span class="post-date" title="2020-01-30 20:38:47">2020/01/30</span>
        </a>
        
        <a  class="Notes "
           href="/%E7%A1%85%E8%B0%B7%E5%A2%9E%E9%95%BF%E9%BB%91%E5%AE%A2%E5%AE%9E%E6%88%98%E7%AC%94%E8%AE%B0/"
           data-tag="Thought,Reading"
           data-author="" >
            <span class="post-title" title="硅谷增长黑客实战笔记">硅谷增长黑客实战笔记</span>
            <span class="post-date" title="2020-01-29 22:44:48">2020/01/29</span>
        </a>
        
        <a  class="Notes "
           href="/%E7%A8%8B%E5%BA%8F%E5%91%98%E4%BF%AE%E7%82%BC%E4%B9%8B%E9%81%93/"
           data-tag="Thought,Reading"
           data-author="" >
            <span class="post-title" title="程序员修炼之道">程序员修炼之道</span>
            <span class="post-date" title="2020-01-29 22:43:53">2020/01/29</span>
        </a>
        
        <a  class="Notes "
           href="/%E8%AF%B4%E8%AF%B4%E6%97%A5%E6%9C%AC/"
           data-tag="Thought,Reading,Japan"
           data-author="" >
            <span class="post-title" title="说说日本">说说日本</span>
            <span class="post-date" title="2020-01-29 22:42:41">2020/01/29</span>
        </a>
        
        <a  class="Notes "
           href="/%E9%87%8D%E6%9E%84%E7%AC%94%E8%AE%B0/"
           data-tag="reading,rafactor"
           data-author="" >
            <span class="post-title" title="重构笔记">重构笔记</span>
            <span class="post-date" title="2020-01-29 22:41:38">2020/01/29</span>
        </a>
        
        <a  class="Notes "
           href="/%E6%98%8E%E6%9C%9D%E6%88%B7%E7%B1%8D%E5%88%B6%E5%BA%A6/"
           data-tag="reading"
           data-author="" >
            <span class="post-title" title="明朝户籍制度">明朝户籍制度</span>
            <span class="post-date" title="2020-01-29 22:38:55">2020/01/29</span>
        </a>
        
        <a  class="Notes "
           href="/%E5%A6%82%E4%BD%95%E5%81%9A%E6%97%B6%E9%97%B4%E7%AE%A1%E7%90%86/"
           data-tag="thought,time management"
           data-author="" >
            <span class="post-title" title="如何做时间管理">如何做时间管理</span>
            <span class="post-date" title="2020-01-29 22:37:47">2020/01/29</span>
        </a>
        
        <a  class="Notes "
           href="/%E5%AD%A6%E4%B9%A0%E8%A7%82-from-Yjango/"
           data-tag="reading,thought"
           data-author="" >
            <span class="post-title" title="学习观 from Yjango">学习观 from Yjango</span>
            <span class="post-date" title="2020-01-29 22:36:47">2020/01/29</span>
        </a>
        
        <a  class="Notes "
           href="/%E5%A6%82%E4%BD%95%E6%88%90%E5%8A%9F-From-Sam-Altman/"
           data-tag="reading,Sam Altman"
           data-author="" >
            <span class="post-title" title="如何成功(From Sam Altman)">如何成功(From Sam Altman)</span>
            <span class="post-date" title="2020-01-29 22:35:20">2020/01/29</span>
        </a>
        
        <a  class="Notes "
           href="/%E5%88%9B%E9%80%A0%E4%BC%B0%E5%80%BC%E4%B8%8A%E4%BA%BF%E7%9A%84%E5%85%AC%E5%8F%B8%E7%9A%84%E6%96%B9%E5%BC%8F%E4%BB%AC-share/"
           data-tag="thought"
           data-author="" >
            <span class="post-title" title="创造估值上亿的公司的方式们(share)">创造估值上亿的公司的方式们(share)</span>
            <span class="post-date" title="2020-01-29 22:34:25">2020/01/29</span>
        </a>
        
        <a  class="Notes "
           href="/%E5%85%B3%E4%BA%8E2019/"
           data-tag="thought"
           data-author="" >
            <span class="post-title" title="关于2019">关于2019</span>
            <span class="post-date" title="2020-01-29 22:31:48">2020/01/29</span>
        </a>
        
        <a  class="Notes "
           href="/%E4%BB%8A%E6%97%A5%E7%AE%80%E5%8F%B2-%E8%87%B4%E6%95%AC%E5%85%85%E6%BB%A1%E6%9C%AA%E7%9F%A5%E7%9A%84%E4%B8%96%E7%95%8C/"
           data-tag="reading,society"
           data-author="" >
            <span class="post-title" title="今日简史-致敬充满未知的世界">今日简史-致敬充满未知的世界</span>
            <span class="post-date" title="2020-01-29 22:20:35">2020/01/29</span>
        </a>
        
        <a  class="Notes "
           href="/Food-Rules/"
           data-tag="food,diet,reading"
           data-author="" >
            <span class="post-title" title="Food Rules">Food Rules</span>
            <span class="post-date" title="2020-01-29 21:41:19">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-essential-5-Architecting/"
           data-tag="AWS"
           data-author="" >
            <span class="post-title" title="AWS essential(5) - Architecting">AWS essential(5) - Architecting</span>
            <span class="post-date" title="2020-01-29 21:06:50">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-essential-4-Security/"
           data-tag="AWS,Security"
           data-author="" >
            <span class="post-title" title="AWS essential(4)-Security">AWS essential(4)-Security</span>
            <span class="post-date" title="2020-01-29 21:05:42">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-essentials-3-Core-Services/"
           data-tag="AWS"
           data-author="" >
            <span class="post-title" title="AWS essentials(3) - Core Services">AWS essentials(3) - Core Services</span>
            <span class="post-date" title="2020-01-29 20:48:08">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-essentials-2-Cloud-Concepts/"
           data-tag="AWS,Security,Agility,Elasticity,Reliability"
           data-author="" >
            <span class="post-title" title="AWS essentials(2) - Cloud Concepts">AWS essentials(2) - Cloud Concepts</span>
            <span class="post-date" title="2020-01-29 20:46:46">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-essentials-1-introduction/"
           data-tag="AWS"
           data-author="" >
            <span class="post-title" title="AWS essentials(1) - introduction">AWS essentials(1) - introduction</span>
            <span class="post-date" title="2020-01-29 20:45:54">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/ECS-Elastic-Container-Service/"
           data-tag="AWS,ECS"
           data-author="" >
            <span class="post-title" title="ECS - Elastic Container Service">ECS - Elastic Container Service</span>
            <span class="post-date" title="2020-01-29 20:36:54">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/Elasticsearch-Overview/"
           data-tag="Elastic Search"
           data-author="" >
            <span class="post-title" title="Elasticsearch Overview">Elasticsearch Overview</span>
            <span class="post-date" title="2020-01-29 20:35:39">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-X-Ray-Intro-Java/"
           data-tag="AWS,Distributed Tracing"
           data-author="" >
            <span class="post-title" title="AWS X-Ray Intro(Java)">AWS X-Ray Intro(Java)</span>
            <span class="post-date" title="2020-01-29 20:34:38">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-VPC/"
           data-tag="AWS,VPC"
           data-author="" >
            <span class="post-title" title="AWS-VPC">AWS-VPC</span>
            <span class="post-date" title="2020-01-29 20:32:16">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-Lambda/"
           data-tag="AWS,Lambda"
           data-author="" >
            <span class="post-title" title="AWS Lambda">AWS Lambda</span>
            <span class="post-date" title="2020-01-29 20:18:52">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-DynamoDBClient-vs-DynamoDBMapper/"
           data-tag="AWS,DynamoDB,Mapper"
           data-author="" >
            <span class="post-title" title="AWS DynamoDBClient vs DynamoDBMapper">AWS DynamoDBClient vs DynamoDBMapper</span>
            <span class="post-date" title="2020-01-29 20:09:13">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/Distributed-Tracing/"
           data-tag="Distributed Tracing,System Design"
           data-author="" >
            <span class="post-title" title="Distributed Tracing">Distributed Tracing</span>
            <span class="post-date" title="2020-01-28 23:39:40">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/DynamoDB-Advanced/"
           data-tag="AWS,DynamoDB"
           data-author="" >
            <span class="post-title" title="DynamoDB-Advanced">DynamoDB-Advanced</span>
            <span class="post-date" title="2020-01-28 23:23:57">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-11-Deploying-Applications/"
           data-tag="AWS,CI/ CD"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.11 Deploying Applications">Developing on AWS Note.11 Deploying Applications</span>
            <span class="post-date" title="2020-01-28 23:22:38">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-10-Docker-ECS-Security/"
           data-tag="AWS,Security,Docker,ECS"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.10 Docker, ECS, Security">Developing on AWS Note.10 Docker, ECS, Security</span>
            <span class="post-date" title="2020-01-28 23:20:55">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-9-Step-Functions-ElasticCache/"
           data-tag="AWS,Step Functions,ElasticCache"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.9 Step Functions, ElasticCache">Developing on AWS Note.9 Step Functions, ElasticCache</span>
            <span class="post-date" title="2020-01-28 23:18:45">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-8-SQS-SNS/"
           data-tag="AWS,SQS,SNS,Notification Service,Queue"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.8 SQS, SNS">Developing on AWS Note.8 SQS, SNS</span>
            <span class="post-date" title="2020-01-28 23:17:05">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-7-API-Gateway/"
           data-tag="RESTFul,AWS,Gateway"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.7 API Gateway">Developing on AWS Note.7 API Gateway</span>
            <span class="post-date" title="2020-01-28 23:14:08">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-6-AWS-Serverless-platform-Lambda/"
           data-tag="AWS,Lambda,Serverless"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.6 AWS Serverless platform, Lambda">Developing on AWS Note.6 AWS Serverless platform, Lambda</span>
            <span class="post-date" title="2020-01-28 23:06:41">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-5-DynamoDB/"
           data-tag="AWS,DynamoDB,NoSQL"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.5 DynamoDB">Developing on AWS Note.5 DynamoDB</span>
            <span class="post-date" title="2020-01-28 23:05:29">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-4-Storage-Options-S3-in-detail/"
           data-tag="AWS,S3"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.4 Storage Options, S3 in detail">Developing on AWS Note.4 Storage Options, S3 in detail</span>
            <span class="post-date" title="2020-01-28 23:03:35">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-3-CloudWatch-CloudTrail-server-design-for-fail/"
           data-tag="AWS,CloudWatch,CloudTrail"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.3  - CloudWatch, CloudTrail, server-design for fail">Developing on AWS Note.3  - CloudWatch, CloudTrail, server-design for fail</span>
            <span class="post-date" title="2020-01-28 23:02:31">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-2-IAM/"
           data-tag="AWS,Identity and Access Management"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.2  - IAM">Developing on AWS Note.2  - IAM</span>
            <span class="post-date" title="2020-01-28 23:00:14">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-1-AWS-Models-EC2-ELB-autoScaling/"
           data-tag="AWS,EC2,ELB,AutoScaling"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.1  - AWS Models, EC2, ELB, autoScaling">Developing on AWS Note.1  - AWS Models, EC2, ELB, autoScaling</span>
            <span class="post-date" title="2020-01-28 22:58:39">2020/01/28</span>
        </a>
        
        <a  class="Web "
           href="/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%90%88%E5%B9%B6HTTP%E8%AF%B7%E6%B1%82/"
           data-tag="FrontEnd,HTTP,Network,Batch Processing,Web Development"
           data-author="" >
            <span class="post-title" title="为什么要合并HTTP请求?">为什么要合并HTTP请求?</span>
            <span class="post-date" title="2020-01-28 20:37:15">2020/01/28</span>
        </a>
        
        <a  class="BackEnd "
           href="/Java-Synchronized%E6%96%B9%E6%B3%95/"
           data-tag="Java,Concurrency,Synchronized,Lock"
           data-author="" >
            <span class="post-title" title="Java-Synchronized方法">Java-Synchronized方法</span>
            <span class="post-date" title="2020-01-28 20:34:26">2020/01/28</span>
        </a>
        
        <a  class="BackEnd "
           href="/Volatile%E5%85%B3%E9%94%AE%E5%AD%97/"
           data-tag="Java,Concurrency,BackEnd"
           data-author="" >
            <span class="post-title" title="Volatile关键字">Volatile关键字</span>
            <span class="post-date" title="2020-01-28 20:22:48">2020/01/28</span>
        </a>
        
        <a  class="BackEnd "
           href="/Java%E5%B9%B6%E5%8F%91%E5%9B%BE%E8%B0%B1/"
           data-tag="Java,Concurrency,BackEnd"
           data-author="" >
            <span class="post-title" title="Java并发图谱">Java并发图谱</span>
            <span class="post-date" title="2020-01-28 09:11:45">2020/01/28</span>
        </a>
        
        <a  class="FrontEnd "
           href="/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5url%E4%BB%A5%E5%90%8E%E9%83%BD%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88/"
           data-tag="FrontEnd,Browser,CDN,network,TCP/ IP"
           data-author="" >
            <span class="post-title" title="浏览器输入url以后都发生了什么">浏览器输入url以后都发生了什么</span>
            <span class="post-date" title="2020-01-27 22:06:56">2020/01/27</span>
        </a>
        
        <a  class="FrontEnd "
           href="/React%E5%88%9D%E6%8E%A2/"
           data-tag="FrontEnd,React"
           data-author="" >
            <span class="post-title" title="React初探">React初探</span>
            <span class="post-date" title="2020-01-27 21:58:30">2020/01/27</span>
        </a>
        
        <a  class="Notes "
           href="/%E4%BA%8C%E6%88%98%E6%97%B6%E9%97%B4%E7%BA%BF/"
           data-tag="history,world war"
           data-author="" >
            <span class="post-title" title="二战时间线">二战时间线</span>
            <span class="post-date" title="2020-01-27 21:08:37">2020/01/27</span>
        </a>
        
        <a  class="Notes "
           href="/%E8%AF%BB%E6%87%82%E8%B4%A2%E6%8A%A5/"
           data-tag="reading,finance,stock"
           data-author="" >
            <span class="post-title" title="读懂财报">读懂财报</span>
            <span class="post-date" title="2020-01-27 20:28:53">2020/01/27</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-DynamoDB-Advanced" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">DynamoDB-Advanced</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            
                <a  data-rel="Cloud">Cloud</a>
            
        </span>
        
        
        <span class="tag">
            
            <a class="color4">AWS</a>
            
            <a class="color4">DynamoDB</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
        创建时间:<time class="date" title='更新时间: 2020-02-01 22:06:57'>2020-01-28 23:23</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:9.4k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读:<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                评论:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Overview"><span class="toc-text">1. Overview</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Features"><span class="toc-text">1.1 Features</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-High-availability-and-durability"><span class="toc-text">1.2 High availability and durability</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-How-it-works"><span class="toc-text">2. How it works</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-Core-Components"><span class="toc-text">2.1 Core Components</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-1-Tables-Items-Attributes"><span class="toc-text">2.1.1 Tables, Items, Attributes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-2-Primary-Key"><span class="toc-text">2.1.2 Primary Key</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-3-Secondary-Indexes"><span class="toc-text">2.1.3 Secondary Indexes</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-Limitations"><span class="toc-text">2.2 Limitations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-1-Capacity-unit-sizes-For-Provisioned-tables"><span class="toc-text">2.2.1 Capacity unit sizes(For Provisioned tables)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-2-Request-Unit-Sizes-For-On-Demand-tables"><span class="toc-text">2.2.2 Request Unit Sizes(For On-Demand tables)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-3-Throughtput-Default-Limits"><span class="toc-text">2.2.3 Throughtput Default Limits</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-4-Tables"><span class="toc-text">2.2.4 Tables</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-5-API-specific-Limits"><span class="toc-text">2.2.5 API specific Limits</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-The-DynamoDB-API"><span class="toc-text">2.3 The DynamoDB API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-Control-Plane"><span class="toc-text">2.3.1 Control Plane</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-Data-Plane"><span class="toc-text">2.3.2 Data Plane</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-Consistency-and-capacity"><span class="toc-text">2.4 Consistency and capacity</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-1-Eventually-Consistent-Reads"><span class="toc-text">2.4.1 Eventually Consistent Reads</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-2-Strongly-Consistent-Reads"><span class="toc-text">2.4.2 Strongly Consistent Reads</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-3-Read-Write-Capacity-Mode-on-demand"><span class="toc-text">2.4.3 Read&#x2F; Write Capacity Mode - on demand</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-4-Read-Write-Capacity-Mode-provisioned"><span class="toc-text">2.4.4 Read&#x2F; Write Capacity Mode - provisioned</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-5-Read-Write-request-units"><span class="toc-text">2.4.5 Read&#x2F; Write request units</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-6-DynamoDB-Auto-Scaling"><span class="toc-text">2.4.6 DynamoDB Auto Scaling</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-Partitions-and-Data-Distribution"><span class="toc-text">2.5 Partitions and Data Distribution</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-Java-Programming-with-DanamoDB"><span class="toc-text">3. Java Programming with DanamoDB</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-Work-flow-using-Java"><span class="toc-text">3.1 Work flow using Java</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-1-Create-a-table"><span class="toc-text">3.1.1 Create a table</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-2-Load-data"><span class="toc-text">3.1.2 Load data</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-3-Create-a-new-item"><span class="toc-text">3.1.3 Create a new item</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-4-Read-an-Item"><span class="toc-text">3.1.4 Read an Item</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-5-Update-an-Item"><span class="toc-text">3.1.5 Update an Item</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-6-Update-an-Item-conditionally"><span class="toc-text">3.1.6 Update an Item conditionally</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-7-Delete-an-Item"><span class="toc-text">3.1.7 Delete an Item</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-8-Scan"><span class="toc-text">3.1.8 Scan</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-AWS-SDK-support"><span class="toc-text">3.2 AWS SDK support</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-1-AWS-SDK-support-workflow"><span class="toc-text">3.2.1 AWS SDK support workflow</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-2-Services-AWS-SDK-provides"><span class="toc-text">3.2.2 Services AWS SDK provides</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-3-Programmatic-Interfaces"><span class="toc-text">3.2.3 Programmatic Interfaces</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-4-Low-level-API"><span class="toc-text">3.2.4 Low level API</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-4-1-Request-Format"><span class="toc-text">3.2.4.1 Request Format</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-4-2-Response-Format"><span class="toc-text">3.2.4.2 Response Format</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-4-3-Data-Type-Descriptors"><span class="toc-text">3.2.4.3 Data Type Descriptors</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-Error-Handling"><span class="toc-text">3.3 Error Handling</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-1-Error-Components"><span class="toc-text">3.3.1 Error Components</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-Error-Messages-and-Codes"><span class="toc-text">3.3.2 Error Messages and Codes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-3-Error-Retries-and-Expotential-Backoff"><span class="toc-text">3.3.3 Error Retries and Expotential Backoff</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-4-Batch-Operations-and-Error-Handling"><span class="toc-text">3.3.4 Batch Operations and Error Handling</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-High-level-programming-interfaces-for-DynamoDB-DynamoDBMapper"><span class="toc-text">4 High level programming interfaces for DynamoDB - DynamoDBMapper</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-Mapper-class-implementation"><span class="toc-text">4.1 Mapper class implementation</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-1-DynamoDBTable"><span class="toc-text">4.1.1 @DynamoDBTable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-2-DynamoDBHashKey"><span class="toc-text">4.1.2 @DynamoDBHashKey</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-3-DynamoDBAttribute"><span class="toc-text">4.1.3 @DynamoDBAttribute</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-4-DynamoDBIgnore"><span class="toc-text">4.1.4  @DynamoDBIgnore</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-Use-DynamoDBMapper-Method"><span class="toc-text">4.2 Use DynamoDBMapper Method</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-Java-Annotations-for-DynamoDB"><span class="toc-text">4.3 Java Annotations for DynamoDB</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-1-DynamoDBAttribute"><span class="toc-text">4.3.1 DynamoDBAttribute</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-2-DynamoDBAutoGeneratedKey"><span class="toc-text">4.3.2 DynamoDBAutoGeneratedKey</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-3-DynamoDBDocument"><span class="toc-text">4.3.3 DynamoDBDocument</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-4-DynamoDBHashKey"><span class="toc-text">4.3.4 DynamoDBHashKey</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-5-DynamoDBIgnore"><span class="toc-text">4.3.5 DynamoDBIgnore</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-6-DynamoDBIndexHashKey"><span class="toc-text">4.3.6 DynamoDBIndexHashKey</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-7-DynamoDBRangeKey"><span class="toc-text">4.3.7 DynamoDBRangeKey</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-8-DynamoDBTable"><span class="toc-text">4.3.8 DynamoDBTable</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-9-DynamoDBTypeConverted"><span class="toc-text">4.3.9 DynamoDBTypeConverted</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-10-DynamoDBTyped"><span class="toc-text">4.3.10 DynamoDBTyped</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-11-DynamoDBVersionAttribute"><span class="toc-text">4.3.11 DynamoDBVersionAttribute</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-The-DynamoDBMapper-Class"><span class="toc-text">4.4 The DynamoDBMapper Class</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-1-save"><span class="toc-text">4.4.1 save</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-2-load"><span class="toc-text">4.4.2 load</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-3-delete"><span class="toc-text">4.4.3 delete</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-4-query"><span class="toc-text">4.4.4 query</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-5-Configuration-settings-for-DynamoDBMapper"><span class="toc-text">4.5 Configuration settings for DynamoDBMapper</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-6-Example-CRUD-Operations"><span class="toc-text">4.6 Example: CRUD Operations</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-7-Examples-Batch-Write-Query-Scan-Optimistic-Locking-with-Version-Number"><span class="toc-text">4.7 Examples: Batch Write + Query + Scan + Optimistic Locking with Version Number</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-8-Example-Mapping-Arbitrary-Data"><span class="toc-text">4.8 Example: Mapping Arbitrary Data</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-Best-Practices"><span class="toc-text">5. Best Practices</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-Partition-Key-Design"><span class="toc-text">5.1 Partition Key Design</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-1-Using-Burst-Capacity-Effectively"><span class="toc-text">5.1.1 Using Burst Capacity Effectively</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-2-Adaptive-Capacity"><span class="toc-text">5.1.2 Adaptive Capacity</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-Working-with-Stream"><span class="toc-text">6. Working with Stream</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-Reading-and-Processing-a-Stream"><span class="toc-text">6.1 Reading and Processing a Stream</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-DynamoDB-Streams-API"><span class="toc-text">6.2 DynamoDB Streams API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-1-ListStreams"><span class="toc-text">6.2.1 ListStreams</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-2-DescribeStream"><span class="toc-text">6.2.2 DescribeStream</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-3-GetShardIterator"><span class="toc-text">6.2.3 GetShardIterator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-4-GetRecords"><span class="toc-text">6.2.4 GetRecords</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-Using-the-DynamoDB-Streams-Kinesis-Adapter-to-Process-Stream-Records"><span class="toc-text">6.3 Using the DynamoDB Streams Kinesis Adapter to Process Stream Records</span></a></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-Overview"><a href="#1-Overview" class="headerlink" title="1. Overview"></a>1. Overview</h1><h2 id="1-1-Features"><a href="#1-1-Features" class="headerlink" title="1.1 Features"></a>1.1 Features</h2><ul>
<li>Fully managed NoSQL database service </li>
<li>offer encryption at rest </li>
<li>on-demand backup capability <ul>
<li>allows you to create full backups of your tables for long-term retention and archival for regulatory compliance needs</li>
</ul>
</li>
<li>point-in-time recovery<ul>
<li>restore the table to any point in time during last 35 days  </li>
</ul>
</li>
<li>TTL <ul>
<li>delete expired items from tables automatically to reduce storage usage</li>
</ul>
</li>
</ul>
<h2 id="1-2-High-availability-and-durability"><a href="#1-2-High-availability-and-durability" class="headerlink" title="1.2 High availability and durability"></a>1.2 High availability and durability</h2><p>DynamoDB automatically spreads the data and traffic for your tables over a <strong>sufficient number of servers</strong>to handle your throughput and storage requirements, while maintaining consistent and fast performance. All of your data is stored on solid state disks (SSDs) and <strong>automatically replicated across multiple Availability Zones</strong> in an AWS region, providing built-in high availability and data durability. You can use <strong>global tables to keep DynamoDB tables in sync across AWS Regions</strong>. For more information, see <a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/GlobalTables.html" target="_blank" rel="noopener">Global Tables</a>.</p>
<h1 id="2-How-it-works"><a href="#2-How-it-works" class="headerlink" title="2. How it works"></a>2. How it works</h1><h2 id="2-1-Core-Components"><a href="#2-1-Core-Components" class="headerlink" title="2.1 Core Components"></a>2.1 Core Components</h2><h3 id="2-1-1-Tables-Items-Attributes"><a href="#2-1-1-Tables-Items-Attributes" class="headerlink" title="2.1.1 Tables, Items, Attributes"></a>2.1.1 Tables, Items, Attributes</h3><blockquote>
<p>A table is a collection of items, each item is a collection of attributes.</p>
</blockquote>
<p>DynamoDB uses <strong>primary keys</strong> to uniquely identify each item in a table and <strong>secondary indexes</strong> to provide more querying flexibility. </p>
<p>Below is a diagram showing a table named People:</p>
<p><img src="https://i.loli.net/2020/01/29/jTZDz1AOoce26iq.png" alt="fig1.png"></p>
<p>Note about tables:</p>
<ul>
<li>Each item in the table has a unique identifier, or primary key, that distinguishes the item from all of the others in the table. In the People table, the primary key consists of one attribute (PersonID).</li>
<li>Other than the primary key, the People table is <strong>schemaless</strong>, which means that neither the attributes nor their data types need to be defined beforehand. Each item can have its own distinct attributes.</li>
<li>Some of the items have** a nested attribute **(Address). DynamoDB supports nested attributes up to 32 levels deep.</li>
</ul>
<h3 id="2-1-2-Primary-Key"><a href="#2-1-2-Primary-Key" class="headerlink" title="2.1.2 Primary Key"></a>2.1.2 Primary Key</h3><p>When creating tables, you must specify the primary key of the table. <strong><em>The primary key uniquely identifies each item in the table, so that no two items can have the same key</em></strong>. </p>
<p>DynamoDB supports two different kinds of primary keys: </p>
<ul>
<li>Partition Key </li>
</ul>
<p>DynamoDB uses the partition key’s value as input to an internal hash function. The output from the hash function determines the partition(Physical storage internal to DynamoDB) in which the item will be stored. </p>
<ul>
<li>Partition Key and sort key </li>
</ul>
<p>A composite primary key, composed of two attributes: partition key and sort key. </p>
<p>DynamoDB uses the partition key value as input to an internal hash function. The output from the hash function determines the partition (physical storage internal to DynamoDB) in which the item will be stored. All items with the same partition key value are stored together, in sorted order by sort key value.</p>
<p>In a table that has a partition key and a sort key, it’s possible for two items to have the same partition key value. However, those two items must have different sort key values.</p>
<h3 id="2-1-3-Secondary-Indexes"><a href="#2-1-3-Secondary-Indexes" class="headerlink" title="2.1.3 Secondary Indexes"></a>2.1.3 Secondary Indexes</h3><p>A secondary index lets you query the data in the table using an alternate key, in addtion to queries against the primary key. </p>
<p>After you create a secondary index on a table, you can read data from the index in much the same way as you do from the table. </p>
<ul>
<li>Global Secondary Index</li>
</ul>
<p>An index with a partition key and sort key that can be different from those on the table </p>
<ul>
<li>Local Secondary Index</li>
</ul>
<p>An index that has the same partition key as the table, but a different sort key </p>
<h2 id="2-2-Limitations"><a href="#2-2-Limitations" class="headerlink" title="2.2 Limitations"></a>2.2 Limitations</h2><h3 id="2-2-1-Capacity-unit-sizes-For-Provisioned-tables"><a href="#2-2-1-Capacity-unit-sizes-For-Provisioned-tables" class="headerlink" title="2.2.1 Capacity unit sizes(For Provisioned tables)"></a>2.2.1 Capacity unit sizes(For Provisioned tables)</h3><p><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Limits.html" target="_blank" rel="noopener">Link is here: </a></p>
<p>One read capacity unit = one strongly consistent read per second, or two eventually consistent reads per second, for items up to 4 KB in size.</p>
<p>One write capacity unit = one write per second, for items up to 1 KB in size.</p>
<p>Transactional read requests require two read capacity units to perform one read per second for items up to 4 KB.</p>
<p>Transactional write requests require two write capacity units to perform one write per second for items up to 1 KB.</p>
<h3 id="2-2-2-Request-Unit-Sizes-For-On-Demand-tables"><a href="#2-2-2-Request-Unit-Sizes-For-On-Demand-tables" class="headerlink" title="2.2.2 Request Unit Sizes(For On-Demand tables)"></a>2.2.2 Request Unit Sizes(For On-Demand tables)</h3><p>One read request unit = one strongly consistent read, or two eventually consistent reads, for items up to 4 KB in size.</p>
<p>One write request unit = one write, for items up to 1 KB in size.</p>
<p>Transactional read requests require two read request units to perform one read for items up to 4 KB.</p>
<p>Transactional write requests require two write request units to perform one write for items up to 1 KB.</p>
<h3 id="2-2-3-Throughtput-Default-Limits"><a href="#2-2-3-Throughtput-Default-Limits" class="headerlink" title="2.2.3 Throughtput Default Limits"></a>2.2.3 Throughtput Default Limits</h3><p><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Limits.html" target="_blank" rel="noopener">See link here:</a></p>
<h3 id="2-2-4-Tables"><a href="#2-2-4-Tables" class="headerlink" title="2.2.4 Tables"></a>2.2.4 Tables</h3><p>Tables are unconstrained in terms of the number of items or the number of bytes. </p>
<p>For any AWS account, there is an initial limit of 256 tables per region.</p>
<p>You can define a maximum of 5 local secondary indexes.</p>
<p>There is an initial limit of 20 global secondary indexes per table.</p>
<h3 id="2-2-5-API-specific-Limits"><a href="#2-2-5-API-specific-Limits" class="headerlink" title="2.2.5 API specific Limits"></a>2.2.5 API specific Limits</h3><ul>
<li>CreateTable/UpdateTable/DeleteTable</li>
</ul>
<p>In general, you can have up to 50 CreateTable, UpdateTable, and DeleteTable requests running simultaneously (in any combination). In other words, the total number of tables in the CREATING, UPDATING or DELETING state cannot exceed 50.</p>
<ul>
<li>BatchGetItem</li>
</ul>
<p>A single BatchGetItem operation can retrieve a maximum of 100 items. The total size of all the items retrieved cannot exceed 16 MB.</p>
<ul>
<li>BatchWriteItem</li>
</ul>
<p>A single BatchWriteItem operation can contain up to 25 PutItem or DeleteItem requests. The total size of all the items written cannot exceed 16 MB.</p>
<ul>
<li>DescribeLimits</li>
</ul>
<p>DescribeLimits should only be called periodically. You can expect throttling errors if you call it more than once in a minute.</p>
<ul>
<li>Query</li>
</ul>
<p>The result set from a Query is limited to 1 MB per call. You can use the LastEvaluatedKey from the query response to retrieve more results.</p>
<ul>
<li>Scan</li>
</ul>
<p>The result set from a Scan is limited to 1 MB per call. You can use the LastEvaluatedKey from the scan response to retrieve more results.</p>
<h2 id="2-3-The-DynamoDB-API"><a href="#2-3-The-DynamoDB-API" class="headerlink" title="2.3 The DynamoDB API"></a>2.3 The DynamoDB API</h2><p>See Instructions <a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.API.html" target="_blank" rel="noopener">here</a></p>
<h3 id="2-3-1-Control-Plane"><a href="#2-3-1-Control-Plane" class="headerlink" title="2.3.1 Control Plane"></a>2.3.1 Control Plane</h3><ul>
<li>CreateTable </li>
<li>DescribeTable </li>
<li>ListTables </li>
<li>UpdateTable </li>
<li>DeleteTable </li>
</ul>
<h3 id="2-3-2-Data-Plane"><a href="#2-3-2-Data-Plane" class="headerlink" title="2.3.2 Data Plane"></a>2.3.2 Data Plane</h3><ul>
<li>Creating Data <ul>
<li>PutItem </li>
<li>BatchWriteItem </li>
</ul>
</li>
<li>Reading Data <ul>
<li>GetItem </li>
<li>BatchGetItem </li>
<li>Query </li>
<li>Scan </li>
</ul>
</li>
<li>Updating Data <ul>
<li>UpdateItem </li>
</ul>
</li>
<li>Deleting Data <ul>
<li>DeleteItem </li>
<li>BatchWriteItem </li>
</ul>
</li>
<li>DynamoDB streams <ul>
<li>listStreams</li>
<li>DescribeStream </li>
<li>GetShardIterator: return a shard iterator, which is a data structure that your application uses to retrieve the records from the stream. </li>
<li>GetRecords</li>
</ul>
</li>
</ul>
<h2 id="2-4-Consistency-and-capacity"><a href="#2-4-Consistency-and-capacity" class="headerlink" title="2.4 Consistency and capacity"></a>2.4 Consistency and capacity</h2><p>Region - Availability Zones</p>
<p>When your application writes data to a DynamoDB table and receives an HTTP 200 response, the write has occured and is durable. The data is eventually consistent across all storage locations, usually within one second or less. </p>
<p>DDB supports <strong>eventually consistent and strongly consistent reads</strong>. </p>
<h3 id="2-4-1-Eventually-Consistent-Reads"><a href="#2-4-1-Eventually-Consistent-Reads" class="headerlink" title="2.4.1 Eventually Consistent Reads"></a>2.4.1 Eventually Consistent Reads</h3><p>When you read data from a DynamoDB table, the response might not reflect the results of a recently completed write operation. The response might include some stale data. If you repeat your read request after a short time, the response should return the latest data.</p>
<h3 id="2-4-2-Strongly-Consistent-Reads"><a href="#2-4-2-Strongly-Consistent-Reads" class="headerlink" title="2.4.2 Strongly Consistent Reads"></a>2.4.2 Strongly Consistent Reads</h3><p>When you request a strongly consistent read, DynamoDB returns a response with the most up-to-date data, reflecting the updates from all prior write operations that were successful. A strongly consistent read might not be available if there is a network delay or outage. Consistent reads are not supported on global secondary indexes (GSI).</p>
<h3 id="2-4-3-Read-Write-Capacity-Mode-on-demand"><a href="#2-4-3-Read-Write-Capacity-Mode-on-demand" class="headerlink" title="2.4.3 Read/ Write Capacity Mode - on demand"></a>2.4.3 Read/ Write Capacity Mode - on demand</h3><p><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HowItWorks.ReadWriteCapacityMode.html" target="_blank" rel="noopener">See link here</a></p>
<p>When you choose on-demand mode, DynamoDB instantly accommodates your workloads as they ramp up or down to any previously reached traffic level. If a workload’s traffic level hits a new peak, DynamoDB adapts rapidly to accommodate the workload. Tables that use on-demand mode deliver the same single-digit millisecond latency, service-level agreement (SLA) commitment, and security that DynamoDB already offers. You can choose on-demand for both new and existing tables and you can continue using the existing DynamoDB APIs without changing code.</p>
<h3 id="2-4-4-Read-Write-Capacity-Mode-provisioned"><a href="#2-4-4-Read-Write-Capacity-Mode-provisioned" class="headerlink" title="2.4.4 Read/ Write Capacity Mode - provisioned"></a>2.4.4 Read/ Write Capacity Mode - provisioned</h3><p>If you choose provisioned mode, you specify the number of reads and writes per second that you require for your application. You can use auto scaling to adjust your table’s provisioned capacity automatically in response to traffic changes. This helps you govern your DynamoDB use to stay at or below a defined request rate in order to obtain cost predictability.</p>
<h3 id="2-4-5-Read-Write-request-units"><a href="#2-4-5-Read-Write-request-units" class="headerlink" title="2.4.5 Read/ Write request units"></a>2.4.5 Read/ Write request units</h3><p>For on-demand mode tables, you don’t need to specify how much read and write throughput you expect your application to perform. DynamoDB charges you for the reads and writes that your application performs on your tables in terms of read request units and write request units.</p>
<p>One read request unit represents one strongly consistent read request, or two eventually consistent read requests, for an item up to 4 KB in size. Transactional read requests require 2 read request units to perform one read for items up to 4 KB. If you need to read an item that is larger than 4 KB, DynamoDB needs additional read request units. The total number of read request units required depends on the item size, and whether you want an eventually consistent or strongly consistent read. For example, if your item size is 8 KB, you require 2 read request units to sustain one strongly consistent read, 1 read request unit if you choose eventually consistent reads, or 4 read request units for a transactional read request.</p>
<p>One write request unit represents one write for an item up to 1 KB in size. If you need to write an item that is larger than 1 KB, DynamoDB needs to consume additional write request units. Transactional write requests require 2 write request units to perform one write for items up to 1 KB. The total number of write request units required depends on the item size. For example, if your item size is 2 KB, you require 2 write request units to sustain one write request or 4 read request units for a transactional write request.</p>
<h3 id="2-4-6-DynamoDB-Auto-Scaling"><a href="#2-4-6-DynamoDB-Auto-Scaling" class="headerlink" title="2.4.6 DynamoDB Auto Scaling"></a>2.4.6 DynamoDB Auto Scaling</h3><p>Manage throughput capacity for tables and global secondary indexes. With auto scaling, you define a range for read and write capacity units. You also define a target utilization percentage within that range. DynamoDB auto scaling seeks to maintain your target utilization, even as your application workload increases or decreases.</p>
<h2 id="2-5-Partitions-and-Data-Distribution"><a href="#2-5-Partitions-and-Data-Distribution" class="headerlink" title="2.5 Partitions and Data Distribution"></a>2.5 Partitions and Data Distribution</h2><p>A partition is an allocation of storage for a table, backed by solid-state drives (SSDs) and automatically replicated across multiple Availability Zones within an AWS Region. Partition management is handled entirely by DynamoDB—you never have to manage partitions yourself.</p>
<p>DynamoDB allocates additional partitions to a table in the following situations:</p>
<ul>
<li>If you increase the table’s provisioned throughput settings beyond what the existing partitions can support.</li>
<li>If an existing partition fills to capacity and more storage space is required.</li>
</ul>
<p>Choose a partition key that can have a large number of distinct values relative to the number of items in the table. </p>
<h1 id="3-Java-Programming-with-DanamoDB"><a href="#3-Java-Programming-with-DanamoDB" class="headerlink" title="3. Java Programming with DanamoDB"></a>3. Java Programming with DanamoDB</h1><h2 id="3-1-Work-flow-using-Java"><a href="#3-1-Work-flow-using-Java" class="headerlink" title="3.1 Work flow using Java"></a>3.1 Work flow using Java</h2><h3 id="3-1-1-Create-a-table"><a href="#3-1-1-Create-a-table" class="headerlink" title="3.1.1 Create a table"></a>3.1.1 Create a table</h3><pre><code>public class MoviesCreateTable {

    public static void main(String[] args) throws Exception {

        AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard()
            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;http://localhost:8000&quot;, &quot;us-west-2&quot;))
            .build();

        DynamoDB dynamoDB = new DynamoDB(client);

        String tableName = &quot;Movies&quot;;

        try {
            System.out.println(&quot;Attempting to create table; please wait...&quot;);
            Table table = dynamoDB.createTable(tableName,
                Arrays.asList(new KeySchemaElement(&quot;year&quot;, KeyType.HASH), // Partition
                                                                          // key
                    new KeySchemaElement(&quot;title&quot;, KeyType.RANGE)), // Sort key
                Arrays.asList(new AttributeDefinition(&quot;year&quot;, ScalarAttributeType.N),
                    new AttributeDefinition(&quot;title&quot;, ScalarAttributeType.S)),
                new ProvisionedThroughput(10L, 10L));
            table.waitForActive();
            System.out.println(&quot;Success.  Table status: &quot; + table.getDescription().getTableStatus());

        }
        catch (Exception e) {
            System.err.println(&quot;Unable to create table: &quot;);
            System.err.println(e.getMessage());
        }

    }
}</code></pre><h3 id="3-1-2-Load-data"><a href="#3-1-2-Load-data" class="headerlink" title="3.1.2 Load data"></a>3.1.2 Load data</h3><pre><code>public class MoviesLoadData {

    public static void main(String[] args) throws Exception {

        AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard()
            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;http://localhost:8000&quot;, &quot;us-west-2&quot;))
            .build();

        DynamoDB dynamoDB = new DynamoDB(client);

        Table table = dynamoDB.getTable(&quot;Movies&quot;);

        JsonParser parser = new JsonFactory().createParser(new File(&quot;moviedata.json&quot;));

        JsonNode rootNode = new ObjectMapper().readTree(parser);
        Iterator&lt;JsonNode&gt; iter = rootNode.iterator();

        ObjectNode currentNode;

        while (iter.hasNext()) {
            currentNode = (ObjectNode) iter.next();

            int year = currentNode.path(&quot;year&quot;).asInt();
            String title = currentNode.path(&quot;title&quot;).asText();

            try {
                table.putItem(new Item().withPrimaryKey(&quot;year&quot;, year, &quot;title&quot;, title).withJSON(&quot;info&quot;,
                    currentNode.path(&quot;info&quot;).toString()));
                System.out.println(&quot;PutItem succeeded: &quot; + year + &quot; &quot; + title);

            }
            catch (Exception e) {
                System.err.println(&quot;Unable to add movie: &quot; + year + &quot; &quot; + title);
                System.err.println(e.getMessage());
                break;
            }
        }
        parser.close();
    }
}</code></pre><h3 id="3-1-3-Create-a-new-item"><a href="#3-1-3-Create-a-new-item" class="headerlink" title="3.1.3 Create a new item"></a>3.1.3 Create a new item</h3><pre><code>public class MoviesItemOps01 {

    public static void main(String[] args) throws Exception {

        AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard()
            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;http://localhost:8000&quot;, &quot;us-west-2&quot;))
            .build();

        DynamoDB dynamoDB = new DynamoDB(client);

        Table table = dynamoDB.getTable(&quot;Movies&quot;);

        int year = 2015;
        String title = &quot;The Big New Movie&quot;;

        final Map&lt;String, Object&gt; infoMap = new HashMap&lt;String, Object&gt;();
        infoMap.put(&quot;plot&quot;, &quot;Nothing happens at all.&quot;);
        infoMap.put(&quot;rating&quot;, 0);

        try {
            System.out.println(&quot;Adding a new item...&quot;);
            PutItemOutcome outcome = table
                .putItem(new Item().withPrimaryKey(&quot;year&quot;, year, &quot;title&quot;, title).withMap(&quot;info&quot;, infoMap));

            System.out.println(&quot;PutItem succeeded:\n&quot; + outcome.getPutItemResult());

        }
        catch (Exception e) {
            System.err.println(&quot;Unable to add item: &quot; + year + &quot; &quot; + title);
            System.err.println(e.getMessage());
        }

    }
}</code></pre><h3 id="3-1-4-Read-an-Item"><a href="#3-1-4-Read-an-Item" class="headerlink" title="3.1.4 Read an Item"></a>3.1.4 Read an Item</h3><pre><code>public class MoviesItemOps02 {

    public static void main(String[] args) throws Exception {

        AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard()
            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;http://localhost:8000&quot;, &quot;us-west-2&quot;))
            .build();

        DynamoDB dynamoDB = new DynamoDB(client);

        Table table = dynamoDB.getTable(&quot;Movies&quot;);

        int year = 2015;
        String title = &quot;The Big New Movie&quot;;

        GetItemSpec spec = new GetItemSpec().withPrimaryKey(&quot;year&quot;, year, &quot;title&quot;, title);

        try {
            System.out.println(&quot;Attempting to read the item...&quot;);
            Item outcome = table.getItem(spec);
            System.out.println(&quot;GetItem succeeded: &quot; + outcome);

        }
        catch (Exception e) {
            System.err.println(&quot;Unable to read item: &quot; + year + &quot; &quot; + title);
            System.err.println(e.getMessage());
        }

    }
}</code></pre><h3 id="3-1-5-Update-an-Item"><a href="#3-1-5-Update-an-Item" class="headerlink" title="3.1.5 Update an Item"></a>3.1.5 Update an Item</h3><pre><code>public class MoviesItemOps03 {

    public static void main(String[] args) throws Exception {

        AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard()
            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;http://localhost:8000&quot;, &quot;us-west-2&quot;))
            .build();

        DynamoDB dynamoDB = new DynamoDB(client);

        Table table = dynamoDB.getTable(&quot;Movies&quot;);

        int year = 2015;
        String title = &quot;The Big New Movie&quot;;

        UpdateItemSpec updateItemSpec = new UpdateItemSpec().withPrimaryKey(&quot;year&quot;, year, &quot;title&quot;, title)
            .withUpdateExpression(&quot;set info.rating = :r, info.plot=:p, info.actors=:a&quot;)
            .withValueMap(new ValueMap().withNumber(&quot;:r&quot;, 5.5).withString(&quot;:p&quot;, &quot;Everything happens all at once.&quot;)
                .withList(&quot;:a&quot;, Arrays.asList(&quot;Larry&quot;, &quot;Moe&quot;, &quot;Curly&quot;)))
            .withReturnValues(ReturnValue.UPDATED_NEW);

        try {
            System.out.println(&quot;Updating the item...&quot;);
            UpdateItemOutcome outcome = table.updateItem(updateItemSpec);
            System.out.println(&quot;UpdateItem succeeded:\n&quot; + outcome.getItem().toJSONPretty());

        }
        catch (Exception e) {
            System.err.println(&quot;Unable to update item: &quot; + year + &quot; &quot; + title);
            System.err.println(e.getMessage());
        }
    }
}</code></pre><h3 id="3-1-6-Update-an-Item-conditionally"><a href="#3-1-6-Update-an-Item-conditionally" class="headerlink" title="3.1.6 Update an Item conditionally"></a>3.1.6 Update an Item conditionally</h3><pre><code>public class MoviesItemOps05 {

    public static void main(String[] args) throws Exception {

        AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard()
            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;http://localhost:8000&quot;, &quot;us-west-2&quot;))
            .build();

        DynamoDB dynamoDB = new DynamoDB(client);

        Table table = dynamoDB.getTable(&quot;Movies&quot;);

        int year = 2015;
        String title = &quot;The Big New Movie&quot;;

        UpdateItemSpec updateItemSpec = new UpdateItemSpec()
            .withPrimaryKey(new PrimaryKey(&quot;year&quot;, year, &quot;title&quot;, title)).withUpdateExpression(&quot;remove info.actors[0]&quot;)
            .withConditionExpression(&quot;size(info.actors) &gt; :num&quot;).withValueMap(new ValueMap().withNumber(&quot;:num&quot;, 3))
            .withReturnValues(ReturnValue.UPDATED_NEW);

        // Conditional update (we expect this to fail)
        try {
            System.out.println(&quot;Attempting a conditional update...&quot;);
            UpdateItemOutcome outcome = table.updateItem(updateItemSpec);
            System.out.println(&quot;UpdateItem succeeded:\n&quot; + outcome.getItem().toJSONPretty());

        }
        catch (Exception e) {
            System.err.println(&quot;Unable to update item: &quot; + year + &quot; &quot; + title);
            System.err.println(e.getMessage());
        }
    }
}</code></pre><h3 id="3-1-7-Delete-an-Item"><a href="#3-1-7-Delete-an-Item" class="headerlink" title="3.1.7 Delete an Item"></a>3.1.7 Delete an Item</h3><pre><code>public class MoviesItemOps06 {

    public static void main(String[] args) throws Exception {

        AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard()
            .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;http://localhost:8000&quot;, &quot;us-west-2&quot;))
            .build();

        DynamoDB dynamoDB = new DynamoDB(client);

        Table table = dynamoDB.getTable(&quot;Movies&quot;);

        int year = 2015;
        String title = &quot;The Big New Movie&quot;;

        DeleteItemSpec deleteItemSpec = new DeleteItemSpec()
            .withPrimaryKey(new PrimaryKey(&quot;year&quot;, year, &quot;title&quot;, title)).withConditionExpression(&quot;info.rating &lt;= :val&quot;)
            .withValueMap(new ValueMap().withNumber(&quot;:val&quot;, 5.0));

        // Conditional delete (we expect this to fail)

        try {
            System.out.println(&quot;Attempting a conditional delete...&quot;);
            table.deleteItem(deleteItemSpec);
            System.out.println(&quot;DeleteItem succeeded&quot;);
        }
        catch (Exception e) {
            System.err.println(&quot;Unable to delete item: &quot; + year + &quot; &quot; + title);
            System.err.println(e.getMessage());
        }
    }
}</code></pre><h3 id="3-1-8-Scan"><a href="#3-1-8-Scan" class="headerlink" title="3.1.8 Scan"></a>3.1.8 Scan</h3><p>The scan method reads every item in the entire table, and returns all the data in the table, you can provide an optional filter_expression so that only the items matching your criteria are returned. However, the filter is applied only after the entire table has been scanned. </p>
<pre><code>    public class MoviesScan {

        public static void main(String[] args) throws Exception {

            AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard()
                .withEndpointConfiguration(new AwsClientBuilder.EndpointConfiguration(&quot;http://localhost:8000&quot;, &quot;us-west-2&quot;))
                .build();

            DynamoDB dynamoDB = new DynamoDB(client);

            Table table = dynamoDB.getTable(&quot;Movies&quot;);

            ScanSpec scanSpec = new ScanSpec().withProjectionExpression(&quot;#yr, title, info.rating&quot;)
                .withFilterExpression(&quot;#yr between :start_yr and :end_yr&quot;).withNameMap(new NameMap().with(&quot;#yr&quot;, &quot;year&quot;))
                .withValueMap(new ValueMap().withNumber(&quot;:start_yr&quot;, 1950).withNumber(&quot;:end_yr&quot;, 1959));

            try {
                ItemCollection&lt;ScanOutcome&gt; items = table.scan(scanSpec);

                Iterator&lt;Item&gt; iter = items.iterator();
                while (iter.hasNext()) {
                    Item item = iter.next();
                    System.out.println(item.toString());
                }

            }
            catch (Exception e) {
                System.err.println(&quot;Unable to scan the table:&quot;);
                System.err.println(e.getMessage());
            }
        }
    }</code></pre><h2 id="3-2-AWS-SDK-support"><a href="#3-2-AWS-SDK-support" class="headerlink" title="3.2 AWS SDK support"></a>3.2 AWS SDK support</h2><h3 id="3-2-1-AWS-SDK-support-workflow"><a href="#3-2-1-AWS-SDK-support-workflow" class="headerlink" title="3.2.1 AWS SDK support workflow"></a>3.2.1 AWS SDK support workflow</h3><p><img src="https://i.loli.net/2020/01/29/vTVb5WzqQkFaLYm.png" alt="fig2.png"></p>
<ol>
<li><p>You write an application using an AWS SDK for your programming language.</p>
</li>
<li><p>Each AWS SDK provides one or more programmatic interfaces for working with DynamoDB. The specific interfaces available depend on which programming language and AWS SDK you use.</p>
</li>
<li><p>The AWS SDK constructs HTTP(S) requests for use with the low-level DynamoDB API.</p>
</li>
<li><p>The AWS SDK sends the request to the DynamoDB endpoint.</p>
</li>
<li><p>DynamoDB executes the request. If the request is successful, DynamoDB returns an HTTP 200 response code (OK). If the request is unsuccessful, DynamoDB returns an HTTP error code and an error message.</p>
</li>
<li><p>The AWS SDK processes the response and propagates it back to your application.</p>
</li>
</ol>
<h3 id="3-2-2-Services-AWS-SDK-provides"><a href="#3-2-2-Services-AWS-SDK-provides" class="headerlink" title="3.2.2 Services AWS SDK provides"></a>3.2.2 Services AWS SDK provides</h3><ul>
<li>formatting HTTP(s) requests and serializing request parameters </li>
<li>generating a cryptographic signature for each request </li>
<li>forwarding request to a DynamoDB endpoint and receiving responses from DynamoDB </li>
<li>extracting the results from those responses </li>
<li>implementing basic retry logic in case of errors </li>
</ul>
<h3 id="3-2-3-Programmatic-Interfaces"><a href="#3-2-3-Programmatic-Interfaces" class="headerlink" title="3.2.3 Programmatic Interfaces"></a>3.2.3 Programmatic Interfaces</h3><ol>
<li>Low level interfaces<br>Need data type descriptors </li>
</ol>
<pre><code>result.getItem().getN() // get number </code></pre><ol start="2">
<li>Document Interfaces</li>
</ol>
<p>Documnet interface, allowing to perform data plane operations(creat, read, update, delete) on tables and indexes. No need to specify the data type descriptors. Data types are implied by the semantics of the data itself. Also provide methods to easily convert JSON documents to and from native DDB data types. </p>
<ol start="3">
<li>Object Persistence Interface </li>
</ol>
<p>Provid an object persistence interface where you do not directly perform data plane operations. Instead, you create objects that represent items in DynamoDB tables and indexes, and interact only with those objects. <strong><em>This allow you to write object-centric code, rather than database-centric code</em></strong>. </p>
<pre><code>@DynamoDBTable(tableName=&quot;Music&quot;)
public class MusicItem {
    private String artist;
    private String songTitle;
    private String albumTitle;
    private int year;

    @DynamoDBHashKey(attributeName=&quot;Artist&quot;)
    public String getArtist() { return artist;}
    public void setArtist(String artist) {this.artist = artist;}

    @DynamoDBRangeKey(attributeName=&quot;SongTitle&quot;)
    public String getSongTitle() { return songTitle;}
    public void setSongTitle(String songTitle) {this.songTitle = songTitle;}

    @DynamoDBAttribute(attributeName = &quot;AlbumTitle&quot;)
    public String getAlbumTitle() { return albumTitle;}
    public void setAlbumTitle(String albumTitle) {this.albumTitle = albumTitle;}

    @DynamoDBAttribute(attributeName = &quot;Year&quot;)
    public int getYear() { return year; }
    public void setYear(int year) { this.year = year; }
}</code></pre><h3 id="3-2-4-Low-level-API"><a href="#3-2-4-Low-level-API" class="headerlink" title="3.2.4 Low level API"></a>3.2.4 Low level API</h3><p>The DynamoDB low-level API is the protocol level interface for Amazon DynamoDB. At this level, every HTTP(s) request must be correctly formatted and carry a valid digital signature. </p>
<p>The low-level DynamoDB API uses JavaScript Object Notation (JSON) as a wire protocol format. JSON presents data in a hierarchy, so that both data values and data structure are conveyed simultaneously. Name-value pairs are defined in the format name:value. The data hierarchy is defined by nested brackets of name-value pairs.</p>
<p>DynamoDB uses JSON only as a transport protocol, not as a storage format. The AWS SDKs use JSON to send data to DynamoDB, and DynamoDB responds with JSON, but DynamoDB does not store data persistently in JSON format.</p>
<h4 id="3-2-4-1-Request-Format"><a href="#3-2-4-1-Request-Format" class="headerlink" title="3.2.4.1 Request Format"></a>3.2.4.1 Request Format</h4><p>The DynamoDB low-level API accepts HTTP(S) POST requests as input. The AWS SDKs construct these requests for you.</p>
<p>Suppose that you have a table named Pets, with a key schema consisting of AnimalType (partition key) and Name (sort key). Both of these attributes are of type string. To retrieve an item from Pets, the AWS SDK constructs a request as shown following:</p>
<pre><code>POST / HTTP/1.1
Host: dynamodb.&lt;region&gt;.&lt;domain&gt;;
Accept-Encoding: identity
Content-Length: &lt;PayloadSizeBytes&gt;     
User-Agent: &lt;UserAgentString&gt;
Content-Type: application/x-amz-json-1.0
Authorization: AWS4-HMAC-SHA256 Credential=&lt;Credential&gt;, SignedHeaders=&lt;Headers&gt;, Signature=&lt;Signature&gt;
X-Amz-Date: &lt;Date&gt; 
X-Amz-Target: DynamoDB_20120810.GetItem

{
    &quot;TableName&quot;: &quot;Pets&quot;,
    &quot;Key&quot;: {
        &quot;AnimalType&quot;: {&quot;S&quot;: &quot;Dog&quot;},
        &quot;Name&quot;: {&quot;S&quot;: &quot;Fido&quot;}
    }
}</code></pre><ul>
<li>The Authorization header contains information required for DynamoDB to authenticate the request.</li>
<li>The X-Amz-Target header contains the name of a DynamoDB operation: GetItem. (This is also accompanied by the low-level API version, in this case 20120810.)</li>
<li>The payload (body) of the request contains the parameters for the operation, in JSON format. For the GetItem operation, the parameters are TableName and Key.</li>
</ul>
<h4 id="3-2-4-2-Response-Format"><a href="#3-2-4-2-Response-Format" class="headerlink" title="3.2.4.2 Response Format"></a>3.2.4.2 Response Format</h4><p>Upon receipt of the request, DynamoDB processes it and returns a response. For the request shown above, the HTTP(S) response payload contains the results from the operation. </p>
<pre><code>HTTP/1.1 200 OK
x-amzn-RequestId: &lt;RequestId&gt; 
x-amz-crc32: &lt;Checksum&gt;
Content-Type: application/x-amz-json-1.0
Content-Length: &lt;PayloadSizeBytes&gt;
Date: &lt;Date&gt; 
{
    &quot;Item&quot;: {
        &quot;Age&quot;: {&quot;N&quot;: &quot;8&quot;},
        &quot;Colors&quot;: {
            &quot;L&quot;: [
                {&quot;S&quot;: &quot;White&quot;},
                {&quot;S&quot;: &quot;Brown&quot;},
                {&quot;S&quot;: &quot;Black&quot;}
            ]
        },
        &quot;Name&quot;: {&quot;S&quot;: &quot;Fido&quot;},
        &quot;Vaccinations&quot;: {
            &quot;M&quot;: {
                &quot;Rabies&quot;: {
                    &quot;L&quot;: [
                        {&quot;S&quot;: &quot;2009-03-17&quot;},
                        {&quot;S&quot;: &quot;2011-09-21&quot;},
                        {&quot;S&quot;: &quot;2014-07-08&quot;}
                    ]
                },
                &quot;Distemper&quot;: {&quot;S&quot;: &quot;2015-10-13&quot;}
            }
        },
        &quot;Breed&quot;: {&quot;S&quot;: &quot;Beagle&quot;},
        &quot;AnimalType&quot;: {&quot;S&quot;: &quot;Dog&quot;}
    }
}</code></pre><h4 id="3-2-4-3-Data-Type-Descriptors"><a href="#3-2-4-3-Data-Type-Descriptors" class="headerlink" title="3.2.4.3 Data Type Descriptors"></a>3.2.4.3 Data Type Descriptors</h4><p>The low-level DynamoDB API protocol requires each attribute to be accompanied by a data type descriptor. Data type descriptors are tokens that tell DynamoDB how to interpret each attribute.</p>
<p>The examples in Request Format and Response Format show examples of how data type descriptors are used. The GetItem request specifies S for the Pets key schema attributes (AnimalType and Name), which are of type string. The GetItem response contains a Pets item with attributes of type string (S), number (N), map (M), and list (L).</p>
<h2 id="3-3-Error-Handling"><a href="#3-3-Error-Handling" class="headerlink" title="3.3 Error Handling"></a>3.3 Error Handling</h2><h3 id="3-3-1-Error-Components"><a href="#3-3-1-Error-Components" class="headerlink" title="3.3.1 Error Components"></a>3.3.1 Error Components</h3><p>Unsuccessful: returns an error, which contains: </p>
<ul>
<li>An HTTP status code</li>
<li>An exception name</li>
<li>An error message</li>
</ul>
<p>The AWS SDK tale care of propagating errors to your application, so that you can take appropriate action. </p>
<h3 id="3-3-2-Error-Messages-and-Codes"><a href="#3-3-2-Error-Messages-and-Codes" class="headerlink" title="3.3.2 Error Messages and Codes"></a>3.3.2 Error Messages and Codes</h3><ul>
<li>HTTP status code 400<ul>
<li>AccessDeniedException <ul>
<li>The client did not correctly sign the request.</li>
</ul>
</li>
<li>ConditionalCheckFailedException<ul>
<li>You specified a condition that evaluated to false. </li>
</ul>
</li>
<li>IncompleteSignatureException <ul>
<li>The request signature did not include all of the required components.</li>
</ul>
</li>
<li>ItemCollectionSizeLimitExceededException<ul>
<li>For a table with a local secondary index, a group of items with the same partition key value has exceeded the maximum size limit of 10 GB. </li>
</ul>
</li>
<li>LimitExceededException<ul>
<li>There are too many concurrent control plane operations. The cumulative number of tables and indexes in the CREATING, DELETING, or UPDATING state cannot exceed 50.</li>
</ul>
</li>
<li>MissingAuthenticationTokenException<ul>
<li>The request did not include the required authorization header, or it was malformed. </li>
</ul>
</li>
<li>ProvisionedThroughputExceededException<ul>
<li>Your request rate is too high. The AWS SDKs for DynamoDB automatically retry requests that receive this exception. Your request is eventually successful, unless your retry queue is too large to finish. </li>
</ul>
</li>
<li>RequestLimitExceeded<ul>
<li>Throughput exceeds the current throughput limit for your account.</li>
</ul>
</li>
<li>ResourceInUseException<ul>
<li>The resource which you are attempting to change is in use.</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>Table table = dynamoDB.getTable(&quot;Movies&quot;);

try {
    Item item = table.getItem(&quot;year&quot;, 1978, &quot;title&quot;, &quot;Superman&quot;);
    if (item != null) {
        System.out.println(&quot;Result: &quot; + item);
    } else { 
        //No such item exists in the table
        System.out.println(&quot;Item not found&quot;);
    }

} catch (AmazonServiceException ase) {
    System.err.println(&quot;Could not complete operation&quot;);
    System.err.println(&quot;Error Message:  &quot; + ase.getMessage());
    System.err.println(&quot;HTTP Status:    &quot; + ase.getStatusCode());
    System.err.println(&quot;AWS Error Code: &quot; + ase.getErrorCode());
    System.err.println(&quot;Error Type:     &quot; + ase.getErrorType());
    System.err.println(&quot;Request ID:     &quot; + ase.getRequestId());

} catch (AmazonClientException ace) {
    System.err.println(&quot;Internal error occured communicating with DynamoDB&quot;);
    System.out.println(&quot;Error Message:  &quot; + ace.getMessage());</code></pre><h3 id="3-3-3-Error-Retries-and-Expotential-Backoff"><a href="#3-3-3-Error-Retries-and-Expotential-Backoff" class="headerlink" title="3.3.3 Error Retries and Expotential Backoff"></a>3.3.3 Error Retries and Expotential Backoff</h3><p>Numerous components on a network, such as DNS servers, switches, load balancers, and others can generate errors anywhere in the life of a given request. The usual technique for dealing with these error responses in a networked environment is to implement retries in the client application. This technique increases the reliability of the application.</p>
<p>In addition to simple retries, each AWS SDK implements exponential backoff algorithm for better flow control. The concept behind exponential backoff is to use progressively longer waits between retries for consecutive error responses. For example, up to 50 milliseconds before the first retry, up to 100 milliseconds before the second, up to 200 milliseconds before third, and so on.</p>
<h3 id="3-3-4-Batch-Operations-and-Error-Handling"><a href="#3-3-4-Batch-Operations-and-Error-Handling" class="headerlink" title="3.3.4 Batch Operations and Error Handling"></a>3.3.4 Batch Operations and Error Handling</h3><p>The DynamoDB low-level API supports batch operations for reads and writes. BatchGetItem reads items from one or more tables, and BatchWriteItem puts or deletes items in one or more tables. These batch operations are implemented as wrappers around other non-batch DynamoDB operations. In other words, BatchGetItem invokes GetItem once for each item in the batch. Similarly,BatchWriteItem invokes DeleteItem or PutItem, as appropriate, for each item in the batch.</p>
<p>A batch operation can tolerate the failure of individual requests in the batch. For example, consider a BatchGetItem request to read five items. Even if some of the underlying GetItem requests fail, this does not cause the entire BatchGetItem operation to fail. On the other hand, if all of the five reads operations fail, then the entire BatchGetItem will fail.</p>
<p>The batch operations return information about individual requests that fail, so that you can diagnose the problem and retry the operation. For BatchGetItem, the tables and primary keys in question are returned in the UnprocessedKeys parameter of the request. For BatchWriteItem, similar information is returned in UnprocessedItems.</p>
<h1 id="4-High-level-programming-interfaces-for-DynamoDB-DynamoDBMapper"><a href="#4-High-level-programming-interfaces-for-DynamoDB-DynamoDBMapper" class="headerlink" title="4 High level programming interfaces for DynamoDB - DynamoDBMapper"></a>4 High level programming interfaces for DynamoDB - DynamoDBMapper</h1><p><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/HigherLevelInterfaces.html" target="_blank" rel="noopener">DynamoDBMapper</a></p>
<h2 id="4-1-Mapper-class-implementation"><a href="#4-1-Mapper-class-implementation" class="headerlink" title="4.1 Mapper class implementation"></a>4.1 Mapper class implementation</h2><p>With a low level database interface, developers must write methods for reading or writing object data to database tables and vice versa. The amount of extra code required for each combination of object type and database table can seem overwhelming. </p>
<p>The higher-level interfaces for DynamoDB let you define the relationships between objects in your program and the database tables that store those objects’ data. After you define this mapping, you call simple object methods such as save, load, or delete, and the underlying low-level DynamoDB operations are automatically invoked on your behalf. This allows you to write object-centric code, rather than database-centric code.</p>
<p>AWS SDK provides a DynamoDBMapper class, allowing you to map your client side classes to DynamoDB tables. To use DynamoDBMapper, you define the relationship between items in a DynamoDB table and their corresponding object instances in your code. </p>
<pre><code>@DynamoDBTable(tableName=&quot;ProductCatalog&quot;)
public class CatalogItem {

    private Integer id;
    private String title;
    private String ISBN;
    private Set&lt;String&gt; bookAuthors;
    private String someProp;

    @DynamoDBHashKey(attributeName=&quot;Id&quot;)  
    public Integer getId() { return id; }
    public void setId(Integer id) {this.id = id; }

    @DynamoDBAttribute(attributeName=&quot;Title&quot;)  
    public String getTitle() {return title; }
    public void setTitle(String title) { this.title = title; }

    @DynamoDBAttribute(attributeName=&quot;ISBN&quot;)  
    public String getISBN() { return ISBN; }
    public void setISBN(String ISBN) { this.ISBN = ISBN; }

    @DynamoDBAttribute(attributeName=&quot;Authors&quot;)
    public Set&lt;String&gt; getBookAuthors() { return bookAuthors; }
    public void setBookAuthors(Set&lt;String&gt; bookAuthors) { this.bookAuthors = bookAuthors; }

    @DynamoDBIgnore
    public String getSomeProp() { return someProp; }
    public void setSomeProp(String someProp) { this.someProp = someProp; }
}</code></pre><h3 id="4-1-1-DynamoDBTable"><a href="#4-1-1-DynamoDBTable" class="headerlink" title="4.1.1 @DynamoDBTable"></a>4.1.1 @DynamoDBTable</h3><p>Maps the class CatalogItem to table ProductCatalog. You can store individual class instances as items in the table.  </p>
<h3 id="4-1-2-DynamoDBHashKey"><a href="#4-1-2-DynamoDBHashKey" class="headerlink" title="4.1.2 @DynamoDBHashKey"></a>4.1.2 @DynamoDBHashKey</h3><p>Maps the Id property to the primary key </p>
<h3 id="4-1-3-DynamoDBAttribute"><a href="#4-1-3-DynamoDBAttribute" class="headerlink" title="4.1.3 @DynamoDBAttribute"></a>4.1.3 @DynamoDBAttribute</h3><p>This annotation is optional when the name of the DynamoDB attribute matches the name of the property declared in the class. When they differ, use this annotation with the attributeName() parameter to specify which DynamoDB attribute this property corresponds to. </p>
<h3 id="4-1-4-DynamoDBIgnore"><a href="#4-1-4-DynamoDBIgnore" class="headerlink" title="4.1.4  @DynamoDBIgnore"></a>4.1.4  @DynamoDBIgnore</h3><p>Those properties will not be mapped to any attributes in the table</p>
<h2 id="4-2-Use-DynamoDBMapper-Method"><a href="#4-2-Use-DynamoDBMapper-Method" class="headerlink" title="4.2 Use DynamoDBMapper Method"></a>4.2 Use DynamoDBMapper Method</h2><p>Use Mapper method to write an instance of that class to a corresponding item in the Catalog table. </p>
<pre><code>AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard().build();

DynamoDBMapper mapper = new DynamoDBMapper(client);

CatalogItem item = new CatalogItem();
item.setId(102);
item.setTitle(&quot;Book 102 Title&quot;);
item.setISBN(&quot;222-2222222222&quot;);
item.setBookAuthors(new HashSet&lt;String&gt;(Arrays.asList(&quot;Author 1&quot;, &quot;Author 2&quot;)));
item.setSomeProp(&quot;Test&quot;);

mapper.save(item);          </code></pre><p>Following code shows how to retrieve the item and access some of its attributes: </p>
<pre><code>CatalogItem partitionKey = new CatalogItem();

partitionKey.setId(102);
DynamoDBQueryExpression&lt;CatalogItem&gt; queryExpression = new DynamoDBQueryExpression&lt;CatalogItem&gt;()
    .withHashKeyValues(partitionKey);

List&lt;CatalogItem&gt; itemList = mapper.query(CatalogItem.class, queryExpression);

for (int i = 0; i &lt; itemList.size(); i++) {
    System.out.println(itemList.get(i).getTitle());
    System.out.println(itemList.get(i).getBookAuthors());
}</code></pre><h2 id="4-3-Java-Annotations-for-DynamoDB"><a href="#4-3-Java-Annotations-for-DynamoDB" class="headerlink" title="4.3 Java Annotations for DynamoDB"></a>4.3 Java Annotations for DynamoDB</h2><h3 id="4-3-1-DynamoDBAttribute"><a href="#4-3-1-DynamoDBAttribute" class="headerlink" title="4.3.1 DynamoDBAttribute"></a>4.3.1 DynamoDBAttribute</h3><ul>
<li>Maps a property to a table attribute. </li>
</ul>
<pre><code>@DynamoDBAttribute(attributeName = &quot;Authors&quot;)
public List&lt;String&gt; getBookAuthors() { return BookAuthors; }
public void setBookAuthors(List&lt;String&gt; BookAuthors) { this.BookAuthors = BookAuthors; }</code></pre><h3 id="4-3-2-DynamoDBAutoGeneratedKey"><a href="#4-3-2-DynamoDBAutoGeneratedKey" class="headerlink" title="4.3.2 DynamoDBAutoGeneratedKey"></a>4.3.2 DynamoDBAutoGeneratedKey</h3><ul>
<li>Marks a partition key or sort key property as being auto-generated. DynamoDBMapper will generate a random UUID when saving these attributes. Only String properties can be marked as auto-generated keys. </li>
</ul>
<pre><code>@DynamoDBTable(tableName=&quot;AutoGeneratedKeysExample&quot;)
public class AutoGeneratedKeys { 
    private String id;
    private String payload;

    @DynamoDBHashKey(attributeName = &quot;Id&quot;)
    @DynamoDBAutoGeneratedKey
    public String getId() { return id; }
    public void setId(String id) { this.id = id; } 

    @DynamoDBAttribute(attributeName=&quot;payload&quot;)
    public String getPayload() { return this.payload; }
    public void setPayload(String payload) { this.payload = payload; }    

    public static void saveItem() {
        AutoGeneratedKeys obj = new AutoGeneratedKeys();
        obj.setPayload(&quot;abc123&quot;);

        // id field is null at this point       
        DynamoDBMapper mapper = new DynamoDBMapper(dynamoDBClient);
        mapper.save(obj);

        System.out.println(&quot;Object was saved with id &quot; + obj.getId());
    }
}</code></pre><h3 id="4-3-3-DynamoDBDocument"><a href="#4-3-3-DynamoDBDocument" class="headerlink" title="4.3.3 DynamoDBDocument"></a>4.3.3 DynamoDBDocument</h3><ul>
<li>indicates that a class can be serialized as a DynamoDB document </li>
</ul>
<p>For example, suppose you wanted to map a JSON document to a DynamoDB attribute of type Map (M). The following code snippet defines an item containing a nested attribute (Pictures) of type Map.</p>
<pre><code>public class ProductCatalogItem {

    private Integer id;  //partition key
    private Pictures pictures;
    /* ...other attributes omitted... */

    @DynamoDBHashKey(attributeName=&quot;Id&quot;)  
    public Integer getId() { return id;}
    public void setId(Integer id) {this.id = id;}

    @DynamoDBAttribute(attributeName=&quot;Pictures&quot;)  
    public Pictures getPictures() { return pictures;}
    public void setPictures(Pictures pictures) {this.pictures = pictures;}

    // Additional properties go here. 

    @DynamoDBDocument
    public static class Pictures {
        private String frontView;
        private String rearView;
        private String sideView;

        @DynamoDBAttribute(attributeName = &quot;FrontView&quot;)
        public String getFrontView() { return frontView; }
        public void setFrontView(String frontView) { this.frontView = frontView; }

        @DynamoDBAttribute(attributeName = &quot;RearView&quot;)
        public String getRearView() { return rearView; }
        public void setRearView(String rearView) { this.rearView = rearView; }

        @DynamoDBAttribute(attributeName = &quot;SideView&quot;)
        public String getSideView() { return sideView; }
        public void setSideView(String sideView) { this.sideView = sideView; }

     }
}</code></pre><p>You could then save a new ProductCatalog item, with pictures, as shown in the following snippet: </p>
<pre><code>ProductCatalogItem item = new ProductCatalogItem();

Pictures pix = new Pictures();
pix.setFrontView(&quot;http://example.com/products/123_front.jpg&quot;);
pix.setRearView(&quot;http://example.com/products/123_rear.jpg&quot;);
pix.setSideView(&quot;http://example.com/products/123_left_side.jpg&quot;);
item.setPictures(pix);

item.setId(123);

mapper.save(item); </code></pre><p>The resulting ProductCalalog item would look like this: </p>
<pre><code>{
  &quot;Id&quot; : 123
  &quot;Pictures&quot; : {
    &quot;SideView&quot; : &quot;http://example.com/products/123_left_side.jpg&quot;,
    &quot;RearView&quot; : &quot;http://example.com/products/123_rear.jpg&quot;,
    &quot;FrontView&quot; : &quot;http://example.com/products/123_front.jpg&quot;
  }
} </code></pre><h3 id="4-3-4-DynamoDBHashKey"><a href="#4-3-4-DynamoDBHashKey" class="headerlink" title="4.3.4 DynamoDBHashKey"></a>4.3.4 DynamoDBHashKey</h3><ul>
<li>Maps a class property to the partition key of the table. The property must be one of the scalar string, number or binary types; it cannot be a collection type. </li>
</ul>
<pre><code>@DynamoDBTable(tableName=&quot;ProductCatalog&quot;) 
public class CatalogItem { 
    private Integer Id;   
   @DynamoDBHashKey(attributeName=&quot;Id&quot;)
   public Integer getId() {
        return Id;
   }
   public void setId(Integer Id) {
        this.Id = Id;
   }
   // Additional properties go here. 
}</code></pre><h3 id="4-3-5-DynamoDBIgnore"><a href="#4-3-5-DynamoDBIgnore" class="headerlink" title="4.3.5 DynamoDBIgnore"></a>4.3.5 DynamoDBIgnore</h3><ul>
<li>Indicates to the DynamoDBMapper instance that the associated property should be ignored. When saving data to the table, the DynamoDBMapper does not save property to the table. </li>
</ul>
<h3 id="4-3-6-DynamoDBIndexHashKey"><a href="#4-3-6-DynamoDBIndexHashKey" class="headerlink" title="4.3.6 DynamoDBIndexHashKey"></a>4.3.6 DynamoDBIndexHashKey</h3><ul>
<li>Maps a class property to the partition key of a global secondary index. The property must be one of the scalar string, number or binary types; it cannot be a collection type.</li>
<li>Use this annotation if you need to Query a global secondary index. You must specify the index name (globalSecondaryIndexName). If the name of the class property is different from the index partition key, you must also specify the name of that index attribute (attributeName).</li>
<li>Global Secondary Indexes <ul>
<li>aims to speed up queries on non-key values </li>
</ul>
</li>
</ul>
<h3 id="4-3-7-DynamoDBRangeKey"><a href="#4-3-7-DynamoDBRangeKey" class="headerlink" title="4.3.7 DynamoDBRangeKey"></a>4.3.7 DynamoDBRangeKey</h3><ul>
<li>Maps a class property to the sort key of the table. The property mush be one of the scalar string, number or binary types; it cannot be a collection type. </li>
<li>If the primary key is composite (partition key and sort key), you can use this tag to map your class field to the sort key.</li>
</ul>
<pre><code>@DynamoDBTable(tableName=&quot;Reply&quot;)
public class Reply { 
    private Integer id;
    private String replyDateTime;

    @DynamoDBHashKey(attributeName=&quot;Id&quot;)
    public Integer getId() { return id; }
    public void setId(Integer id) { this.id = id; } 

    @DynamoDBRangeKey(attributeName=&quot;ReplyDateTime&quot;)
    public String getReplyDateTime() { return replyDateTime; }
    public void setReplyDateTime(String replyDateTime) { this.replyDateTime = replyDateTime; } 

   // Additional properties go here. 
}</code></pre><h3 id="4-3-8-DynamoDBTable"><a href="#4-3-8-DynamoDBTable" class="headerlink" title="4.3.8 DynamoDBTable"></a>4.3.8 DynamoDBTable</h3><ul>
<li>Identifies the target table in DynamoDB. </li>
<li>The @DynamoDBTable annotation can be inherited. Any new class that inherits from the Developer class also maps to the People table. For example, assume that you create a Lead class that inherits from the Developer class. Because you mapped the Developer class to the People table, the Lead class objects are also stored in the same table.</li>
</ul>
<pre><code>@DynamoDBTable(tableName=&quot;People&quot;) 
public class Developer { ...} </code></pre><h3 id="4-3-9-DynamoDBTypeConverted"><a href="#4-3-9-DynamoDBTypeConverted" class="headerlink" title="4.3.9 DynamoDBTypeConverted"></a>4.3.9 DynamoDBTypeConverted</h3><pre><code>+ Annotation to mark a property as using a custom type-converter. 
+ This interface lets you map your own arbitrary data types to a data type that is natively supported by DynamoDB</code></pre><h3 id="4-3-10-DynamoDBTyped"><a href="#4-3-10-DynamoDBTyped" class="headerlink" title="4.3.10 DynamoDBTyped"></a>4.3.10 DynamoDBTyped</h3><pre><code>+ Annotation to override the standard attribute type binding. Standard types do not require the annotation if applying the default attribute binding for that type. </code></pre><h3 id="4-3-11-DynamoDBVersionAttribute"><a href="#4-3-11-DynamoDBVersionAttribute" class="headerlink" title="4.3.11 DynamoDBVersionAttribute"></a>4.3.11 DynamoDBVersionAttribute</h3><ul>
<li>Identifies a class property for storing an optimistic locking version number. DynamoDBMapper assigns a version number to this property when it saves a new item, and increments it each time you update the item.  </li>
</ul>
<h2 id="4-4-The-DynamoDBMapper-Class"><a href="#4-4-The-DynamoDBMapper-Class" class="headerlink" title="4.4 The DynamoDBMapper Class"></a>4.4 The DynamoDBMapper Class</h2><p>The DynamoDBMapper class is the entry point to DynamoDB. It provides access to a DynamoDB endpoint and enables you to access data in various tables, perform various CRUD operations on items, and execute queries and scans against tables. </p>
<h3 id="4-4-1-save"><a href="#4-4-1-save" class="headerlink" title="4.4.1 save"></a>4.4.1 save</h3><p>Saves the specified object to the table. The object that you wish to save is the only required parameter for this method. You can provide optional configuration parameters using the <strong><em>DynamoDBMapperConfig</em></strong> object. </p>
<p>If an item that has the same primary key does not exist, this method creates a new item in the table. If an item that has the same primary key exists, it updates the existing item. If the partition key and sort key are of type String, and annotated with @DynamoDBAutoGeneratedKey, then they are given a random universally unique identifier (UUID) if left uninitialized. Version fields annotated with @DynamoDBVersionAttribute will be incremented by one. Additionally, if a version field is updated or a key generated, the object passed in is updated as a result of the operation.</p>
<p>By default, only attributes corresponding to mapped class properties are updated; any additional existing attributes on an item are unaffected. However, if you specify SaveBehavior.CLOBBER, you can force the item to be completely overwritten.</p>
<pre><code>mapper.save(obj, new DynamoDBMapperConfig(DynamoDBMapperConfig.SaveBehavior.CLOBBER));</code></pre><h3 id="4-4-2-load"><a href="#4-4-2-load" class="headerlink" title="4.4.2 load"></a>4.4.2 load</h3><p>Retrieves an item from a table. You must provide the primary key of the item that you wish to retrieve. You can provide optional configuration parameters using the DynamoDBMapperConfig object. </p>
<pre><code>CatalogItem item = mapper.load(CatalogItem.class, item.getId(), 
                new DynamoDBMapperConfig(DynamoDBMapperConfig.ConsistentReads.CONSISTENT)); </code></pre><h3 id="4-4-3-delete"><a href="#4-4-3-delete" class="headerlink" title="4.4.3 delete"></a>4.4.3 delete</h3><p>Deletes an item from the table, must pass in an object instance of the mapped class. </p>
<h3 id="4-4-4-query"><a href="#4-4-4-query" class="headerlink" title="4.4.4 query"></a>4.4.4 query</h3><p>Queries a table or a secondary index. You can query a table or an index only if it has a composite primary key (partition key and sort key). This method requires you to provide a partition key value and a query filter that is applied on the sort key. A filter expression includes a condition and a value.</p>
<pre><code>String forumName = &quot;DynamoDB&quot;;
String forumSubject = &quot;DynamoDB Thread 1&quot;;
String partitionKey = forumName + &quot;#&quot; + forumSubject;

long twoWeeksAgoMilli = (new Date()).getTime() - (14L*24L*60L*60L*1000L);
Date twoWeeksAgo = new Date();
twoWeeksAgo.setTime(twoWeeksAgoMilli);
SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;);
String twoWeeksAgoStr = df.format(twoWeeksAgo);

Map&lt;String, AttributeValue&gt; eav = new HashMap&lt;String, AttributeValue&gt;();
eav.put(&quot;:v1&quot;, new AttributeValue().withS(partitionKey));
eav.put(&quot;:v2&quot;,new AttributeValue().withS(twoWeeksAgoStr.toString()));

DynamoDBQueryExpression&lt;Reply&gt; queryExpression = new DynamoDBQueryExpression&lt;Reply&gt;() 
    .withKeyConditionExpression(&quot;Id = :v1 and ReplyDateTime &gt; :v2&quot;)
    .withExpressionAttributeValues(eav);

List&lt;Reply&gt; latestReplies = mapper.query(Reply.class, queryExpression);</code></pre><p>By default, the query method returns a “<strong>lazy-loaded</strong>“ collection. It initially returns only one page of results, and then makes a service call for the next page if needed. To obtain all the matching items, you only need to iterate over the latestReplies collection.</p>
<p>To query an index, you must first <strong><em>model the index as a mapper class</em></strong>, Suppose that the Reply table has a global secondary index named PostedBy-Message-Index. The partition key for this index is PostedBy, and the sort key is Message. The class definition for an item in the index would look like this:</p>
<pre><code>@DynamoDBTable(tableName=&quot;Reply&quot;)
public class PostedByMessage { 
    private String postedBy;
    private String message;

    @DynamoDBIndexHashKey(globalSecondaryIndexName = &quot;PostedBy-Message-Index&quot;, attributeName = &quot;PostedBy&quot;)
    public String getPostedBy() { return postedBy; }
    public void setPostedBy(String postedBy) { this.postedBy = postedBy; } 

    @DynamoDBIndexRangeKey(globalSecondaryIndexName = &quot;PostedBy-Message-Index&quot;, attributeName = &quot;Message&quot;)
    public String getMessage() { return message; }
    public void setMessage(String message) { this.message = message; } 

   // Additional properties go here. 
}</code></pre><p>The @DynamoDBTable annotation indicates that this index is associated with the Reply table. The @DynamoDBIndexHashKey annotation denotes the partition key (PostedBy) of the index, and @DynamoDBIndexRangeKey denotes the sort key (Message) of the index.</p>
<p>Now you can use DynamoDBMapper to query the index, retrieving a subset of messages that were posted by a particular user. You must specify withIndexName so that DynamoDB knows which index to query. In the following code snippet, we are querying a global secondary index. Because global secondary indexes support eventually consistent reads, but not strongly consistent reads, we must specify withConsistentRead(false).</p>
<pre><code>HashMap&lt;String, AttributeValue&gt; eav = new HashMap&lt;String, AttributeValue&gt;();
eav.put(&quot;:v1&quot;,  new AttributeValue().withS(&quot;User A&quot;));
eav.put(&quot;:v2&quot;,  new AttributeValue().withS(&quot;DynamoDB&quot;));

DynamoDBQueryExpression&lt;PostedByMessage&gt; queryExpression = new DynamoDBQueryExpression&lt;PostedByMessage&gt;()
    .withIndexName(&quot;PostedBy-Message-Index&quot;)
    .withConsistentRead(false)
    .withKeyConditionExpression(&quot;PostedBy = :v1 and begins_with(Message, :v2)&quot;)
    .withExpressionAttributeValues(eav);

List&lt;PostedByMessage&gt; iList =  mapper.query(PostedByMessage.class, queryExpression);</code></pre><h2 id="4-5-Configuration-settings-for-DynamoDBMapper"><a href="#4-5-Configuration-settings-for-DynamoDBMapper" class="headerlink" title="4.5 Configuration settings for DynamoDBMapper"></a>4.5 Configuration settings for DynamoDBMapper</h2><p>When you create an instance of DynamoDBMapper, it has certain default behaviors; you can override these defaults by using the DynamoDBmapperConfig class. </p>
<pre><code>AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard().build();

DynamoDBMapperConfig mapperConfig = new DynamoDBMapperConfig(
    DynamoDBMapperConfig.SaveBehavior.CLOBBER,
    DynamoDBMapperConfig.ConsistentReads.CONSISTENT,
    null, //TableNameOverride - leaving this at default setting
    DynamoDBMapperConfig.PaginationLoadingStrategy.EAGER_LOADING
    );

DynamoDBMapper mapper = new DynamoDBMapper(client, mapperConfig, cp);</code></pre><p><a href="https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/datamodeling/DynamoDBMapperConfig.html" target="_blank" rel="noopener">API doc for DynamoDBMapperConfig</a></p>
<ul>
<li>DynamoDBMapperConfig.ConsistentReads<ul>
<li>EVENTUAL—the mapper instance uses an eventually consistent read request ++<strong>(default)</strong>++</li>
<li>CONSISTENT—the mapper instance uses a strongly consistent read request. You can use this optional setting with load, query, or scan operations. Strongly consistent reads have implications for performance and billing; see the DynamoDB product detail page for more information</li>
</ul>
</li>
<li>DynamoDBMapperConfig.PaginationLoadingStrategy - controls how the mapper instance processes a paginated list of data, such as results from a query or scan <ul>
<li>LAZY_LOADING—the mapper instance loads data when possible, and keeps all loaded results in memory ++<strong>(default)</strong>++</li>
<li>EAGER_LOADING—the mapper instance loads the data as soon as the list is initialized</li>
<li>ITERATION_ONLY—you can only use an Iterator to read from the list. During the iteration, the list will clear all the previous results before loading the next page, so that the list will keep at most one page of the loaded results in memory. This also means the list can only be iterated once. This strategy is recommended when handling large items, in order to reduce memory overhead</li>
</ul>
</li>
<li>DynamoDBMapperConfig.SaveBehavior enumeration value - Specifies how the mapper instance should deal with attributes during save operations<ul>
<li>UPDATE—during a save operation, all modeled attributes are updated, and unmodeled attributes are unaffected. Primitive number types (byte, int, long) are set to 0. Object types are set to null. ++<strong>(default)</strong>++</li>
<li>CLOBBER—clears and replaces all attributes, included unmodeled ones, during a save operation. This is done by deleting the item and re-creating it. Versioned field constraints are also disregarded.</li>
</ul>
</li>
<li>DynamoDBMapperConfig.TableNameOverride object—Instructs the mapper instance to ignore the table name specified by a class’s DynamoDBTable annotation, and instead use a different table name that you supply. This is useful when partitioning your data into multiple tables at run time.</li>
</ul>
<h2 id="4-6-Example-CRUD-Operations"><a href="#4-6-Example-CRUD-Operations" class="headerlink" title="4.6 Example: CRUD Operations"></a>4.6 Example: CRUD Operations</h2><p>The following Java code example declares a CatalogItem class that has Id, Title, ISBN and Authors properties. It uses the annotations to map these properties to the ProductCatalog table in DynamoDB. The code example then uses the DynamoDBMapper to save a book object, retrieve it, update it and delete the book item.</p>
<pre><code>package com.amazonaws.codesamples.datamodeling;

import java.io.IOException;
import java.util.Arrays;
import java.util.HashSet;
import java.util.Set;

import com.amazonaws.services.dynamodbv2.AmazonDynamoDB;
import com.amazonaws.services.dynamodbv2.AmazonDynamoDBClientBuilder;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAttribute;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapperConfig;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;

public class DynamoDBMapperCRUDExample {

    static AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard().build();

    public static void main(String[] args) throws IOException {
        testCRUDOperations();
        System.out.println(&quot;Example complete!&quot;);
    }

    @DynamoDBTable(tableName = &quot;ProductCatalog&quot;)
    public static class CatalogItem {
        private Integer id;
        private String title;
        private String ISBN;
        private Set&lt;String&gt; bookAuthors;

        // Partition key
        @DynamoDBHashKey(attributeName = &quot;Id&quot;)
        public Integer getId() {
            return id;
        }

        public void setId(Integer id) {
            this.id = id;
        }

        @DynamoDBAttribute(attributeName = &quot;Title&quot;)
        public String getTitle() {
            return title;
        }

        public void setTitle(String title) {
            this.title = title;
        }

        @DynamoDBAttribute(attributeName = &quot;ISBN&quot;)
        public String getISBN() {
            return ISBN;
        }

        public void setISBN(String ISBN) {
            this.ISBN = ISBN;
        }

        @DynamoDBAttribute(attributeName = &quot;Authors&quot;)
        public Set&lt;String&gt; getBookAuthors() {
            return bookAuthors;
        }

        public void setBookAuthors(Set&lt;String&gt; bookAuthors) {
            this.bookAuthors = bookAuthors;
        }

        @Override
        public String toString() {
            return &quot;Book [ISBN=&quot; + ISBN + &quot;, bookAuthors=&quot; + bookAuthors + &quot;, id=&quot; + id + &quot;, title=&quot; + title + &quot;]&quot;;
        }
    }

    private static void testCRUDOperations() {

        CatalogItem item = new CatalogItem();
        item.setId(601);
        item.setTitle(&quot;Book 601&quot;);
        item.setISBN(&quot;611-1111111111&quot;);
        item.setBookAuthors(new HashSet&lt;String&gt;(Arrays.asList(&quot;Author1&quot;, &quot;Author2&quot;)));

        // Save the item (book).
        DynamoDBMapper mapper = new DynamoDBMapper(client);
        mapper.save(item);

        // Retrieve the item.
        CatalogItem itemRetrieved = mapper.load(CatalogItem.class, 601);
        System.out.println(&quot;Item retrieved:&quot;);
        System.out.println(itemRetrieved);

        // Update the item.
        itemRetrieved.setISBN(&quot;622-2222222222&quot;);
        itemRetrieved.setBookAuthors(new HashSet&lt;String&gt;(Arrays.asList(&quot;Author1&quot;, &quot;Author3&quot;)));
        mapper.save(itemRetrieved);
        System.out.println(&quot;Item updated:&quot;);
        System.out.println(itemRetrieved);

        // Retrieve the updated item.
        DynamoDBMapperConfig config = new DynamoDBMapperConfig(DynamoDBMapperConfig.ConsistentReads.CONSISTENT);
        CatalogItem updatedItem = mapper.load(CatalogItem.class, 601, config);
        System.out.println(&quot;Retrieved the previously updated item:&quot;);
        System.out.println(updatedItem);

        // Delete the item.
        mapper.delete(updatedItem);

        // Try to retrieve deleted item.
        CatalogItem deletedItem = mapper.load(CatalogItem.class, updatedItem.getId(), config);
        if (deletedItem == null) {
            System.out.println(&quot;Done - Sample item is deleted.&quot;);
        }
    }
}</code></pre><h2 id="4-7-Examples-Batch-Write-Query-Scan-Optimistic-Locking-with-Version-Number"><a href="#4-7-Examples-Batch-Write-Query-Scan-Optimistic-Locking-with-Version-Number" class="headerlink" title="4.7 Examples: Batch Write + Query + Scan + Optimistic Locking with Version Number"></a>4.7 Examples: Batch Write + Query + Scan + Optimistic Locking with Version Number</h2><p><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.BatchWriteExample.html" target="_blank" rel="noopener">BatchWrite</a></p>
<p><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.QueryScanExample.html" target="_blank" rel="noopener">Query and Scan</a></p>
<p><a href="https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.OptimisticLocking.html" target="_blank" rel="noopener">Optimistic Locking With Version Number</a></p>
<h2 id="4-8-Example-Mapping-Arbitrary-Data"><a href="#4-8-Example-Mapping-Arbitrary-Data" class="headerlink" title="4.8 Example: Mapping Arbitrary Data"></a>4.8 Example: Mapping Arbitrary Data</h2><p>In addtion to the supported java types, you can use types in your application for which there is no direct mapping to the DynamoDB types. </p>
<blockquote>
<p> To map these types, you must provide an implementation that converts your complex type to a DynamoDB supported type and vice-versa, and annotate the complex type accessor method using the @DynamoDBTypeConverted annotation. </p>
</blockquote>
<p>The converter code transforms data when objects are saved or loaded. It is also used for all operations that consume complex types. Note that when comparing data during query and scan operations, the comparisons are made against the data stored in DynamoDB.</p>
<p>For example, consider the following CatalogItem class that defines a property, Dimension, that is of DimensionType. This property stores the item dimensions, as height, width, and thickness. Assume that you decide to store these item dimensions as a string (such as 8.5x11x.05) in DynamoDB. The following example provides converter code that converts the DimensionType object to a string and a string to the DimensionType.</p>
<pre><code>package com.amazonaws.codesamples.datamodeling;

import java.io.IOException;
import java.util.Arrays;
import java.util.HashSet;
import java.util.Set;

import com.amazonaws.regions.Regions;
import com.amazonaws.services.dynamodbv2.AmazonDynamoDB;
import com.amazonaws.services.dynamodbv2.AmazonDynamoDBClientBuilder;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBAttribute;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBHashKey;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBMapper;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverted;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTypeConverter;
import com.amazonaws.services.dynamodbv2.datamodeling.DynamoDBTable;

public class DynamoDBMapperExample {

    static AmazonDynamoDB client;

    public static void main(String[] args) throws IOException {

        // Set the AWS region you want to access.
        Regions usWest2 = Regions.US_WEST_2;
        client = AmazonDynamoDBClientBuilder.standard().withRegion(usWest2).build();

        DimensionType dimType = new DimensionType();
        dimType.setHeight(&quot;8.00&quot;);
        dimType.setLength(&quot;11.0&quot;);
        dimType.setThickness(&quot;1.0&quot;);

        Book book = new Book();
        book.setId(502);
        book.setTitle(&quot;Book 502&quot;);
        book.setISBN(&quot;555-5555555555&quot;);
        book.setBookAuthors(new HashSet&lt;String&gt;(Arrays.asList(&quot;Author1&quot;, &quot;Author2&quot;)));
        book.setDimensions(dimType);

        DynamoDBMapper mapper = new DynamoDBMapper(client);
        mapper.save(book);

        Book bookRetrieved = mapper.load(Book.class, 502);
        System.out.println(&quot;Book info: &quot; + &quot;\n&quot; + bookRetrieved);

        bookRetrieved.getDimensions().setHeight(&quot;9.0&quot;);
        bookRetrieved.getDimensions().setLength(&quot;12.0&quot;);
        bookRetrieved.getDimensions().setThickness(&quot;2.0&quot;);

        mapper.save(bookRetrieved);

        bookRetrieved = mapper.load(Book.class, 502);
        System.out.println(&quot;Updated book info: &quot; + &quot;\n&quot; + bookRetrieved);
    }

    @DynamoDBTable(tableName = &quot;ProductCatalog&quot;)
    public static class Book {
        private int id;
        private String title;
        private String ISBN;
        private Set&lt;String&gt; bookAuthors;
        private DimensionType dimensionType;

        // Partition key
        @DynamoDBHashKey(attributeName = &quot;Id&quot;)
        public int getId() {
            return id;
        }

        public void setId(int id) {
            this.id = id;
        }

        @DynamoDBAttribute(attributeName = &quot;Title&quot;)
        public String getTitle() {
            return title;
        }

        public void setTitle(String title) {
            this.title = title;
        }

        @DynamoDBAttribute(attributeName = &quot;ISBN&quot;)
        public String getISBN() {
            return ISBN;
        }

        public void setISBN(String ISBN) {
            this.ISBN = ISBN;
        }

        @DynamoDBAttribute(attributeName = &quot;Authors&quot;)
        public Set&lt;String&gt; getBookAuthors() {
            return bookAuthors;
        }

        public void setBookAuthors(Set&lt;String&gt; bookAuthors) {
            this.bookAuthors = bookAuthors;
        }

        @DynamoDBTypeConverted(converter = DimensionTypeConverter.class)
        @DynamoDBAttribute(attributeName = &quot;Dimensions&quot;)
        public DimensionType getDimensions() {
            return dimensionType;
        }

        @DynamoDBAttribute(attributeName = &quot;Dimensions&quot;)
        public void setDimensions(DimensionType dimensionType) {
            this.dimensionType = dimensionType;
        }

        @Override
        public String toString() {
            return &quot;Book [ISBN=&quot; + ISBN + &quot;, bookAuthors=&quot; + bookAuthors + &quot;, dimensionType= &quot;
                + dimensionType.getHeight() + &quot; X &quot; + dimensionType.getLength() + &quot; X &quot; + dimensionType.getThickness()
                + &quot;, Id=&quot; + id + &quot;, Title=&quot; + title + &quot;]&quot;;
        }
    }

    static public class DimensionType {

        private String length;
        private String height;
        private String thickness;

        public String getLength() {
            return length;
        }

        public void setLength(String length) {
            this.length = length;
        }

        public String getHeight() {
            return height;
        }

        public void setHeight(String height) {
            this.height = height;
        }

        public String getThickness() {
            return thickness;
        }

        public void setThickness(String thickness) {
            this.thickness = thickness;
        }
    }

    // Converts the complex type DimensionType to a string and vice-versa.
    static public class DimensionTypeConverter implements DynamoDBTypeConverter&lt;String, DimensionType&gt; {

        @Override
        public String convert(DimensionType object) {
            DimensionType itemDimensions = (DimensionType) object;
            String dimension = null;
            try {
                if (itemDimensions != null) {
                    dimension = String.format(&quot;%s x %s x %s&quot;, itemDimensions.getLength(), itemDimensions.getHeight(),
                        itemDimensions.getThickness());
                }
            }
            catch (Exception e) {
                e.printStackTrace();
            }
            return dimension;
        }

        @Override
        public DimensionType unconvert(String s) {

            DimensionType itemDimension = new DimensionType();
            try {
                if (s != null &amp;&amp; s.length() != 0) {
                    String[] data = s.split(&quot;x&quot;);
                    itemDimension.setLength(data[0].trim());
                    itemDimension.setHeight(data[1].trim());
                    itemDimension.setThickness(data[2].trim());
                }
            }
            catch (Exception e) {
                e.printStackTrace();
            }

            return itemDimension;
        }
    }
}</code></pre><h1 id="5-Best-Practices"><a href="#5-Best-Practices" class="headerlink" title="5. Best Practices"></a>5. Best Practices</h1><h2 id="5-1-Partition-Key-Design"><a href="#5-1-Partition-Key-Design" class="headerlink" title="5.1 Partition Key Design"></a>5.1 Partition Key Design</h2><p>Generally speaking, you should design your application for <strong>uniform activity across all logical partition keys</strong> in the Table and its secondary indexes. You can determine the access patterns that your application requires, and estimate the total RCUs and WCUs that each table and secondary Index requires.</p>
<p>As traffic starts to flow, DynamoDB automatically supports your access patterns using the throughput you have provisioned, as long as the traffic against a given partition key does not exceed 3000 RCUs or 1000 WCUs.</p>
<h3 id="5-1-1-Using-Burst-Capacity-Effectively"><a href="#5-1-1-Using-Burst-Capacity-Effectively" class="headerlink" title="5.1.1 Using Burst Capacity Effectively"></a>5.1.1 Using Burst Capacity Effectively</h3><p>DynamoDB provides some flexibility in your per-partition throughput provisioning by providing burst capacity, as follows. Whenever you are not fully using a partition’s throughput, DynamoDB reserves a portion of that unused capacity for later bursts of throughput to handle usage spikes.</p>
<p>DynamoDB currently retains up to <strong>five minutes (300 seconds)</strong> of unused read and write capacity. During an occasional burst of read or write activity, these extra capacity units can be consumed quickly—even faster than the per-second provisioned throughput capacity that you’ve defined for your table.</p>
<h3 id="5-1-2-Adaptive-Capacity"><a href="#5-1-2-Adaptive-Capacity" class="headerlink" title="5.1.2 Adaptive Capacity"></a>5.1.2 Adaptive Capacity</h3><p>When data access is imbalanced, a “hot” partition can receive such a higher volume of read and write traffic compared to other partitions. In extreme cases, throttling can occur if a single partition receives more than 3,000 RCUs or 1,000 WCUs. </p>
<p>To better accommodate uneven access patterns, DynamoDB adaptive capacity enables your application to continue reading and writing to hot partitions without being throttled, provided that traffic does not exceed your table’s total provisioned capacity or the partition maximum capacity. Adaptive capacity works by automatically increasing throughput capacity for partitions that receive more traffic.</p>
<h1 id="6-Working-with-Stream"><a href="#6-Working-with-Stream" class="headerlink" title="6. Working with Stream"></a>6. Working with Stream</h1><p>DynamoDB streams captures a time-ordered sequence of item-level modifications in any DynamoDB table, and stores this information in a log for up to 24 hours. Applications can access this log and view the data items as they appeared before and after they were modified, in near real time.</p>
<blockquote>
<p>A DynamoDB stream is an ordered flow of information about changes to items in an Amazon DynamoDB table. When you enable a stream on a table, DynamoDB captures information about every modification to data items in the table. </p>
</blockquote>
<p>Whenever an application creates, updates, or deletes items in the table, DynamoDB Streams writes a stream record with the primary key attribute(s) of the items that were modified. A stream record contains information about a data modification to a single item in a DynamoDB table. You can configure the stream so that the stream records capture additional information, such as the “before” and “after” images of modified items.</p>
<p>DynamoDB Streams guarantees the following: </p>
<ul>
<li>Each stream record appears exactly once in the stream </li>
<li><strong>For each item that is modified in a DynamoDB table, the stream records appear in the same sequence as the actual modifications to the item.</strong></li>
</ul>
<p>DynamoDB Streams writes stream records in near real time, so that you can build applications that consume these streams and take action based on the contents.</p>
<p>Use one endpoint for accessing DynamoDB, and another endpoint within same region for accessing DynamoDB streams. </p>
<h2 id="6-1-Reading-and-Processing-a-Stream"><a href="#6-1-Reading-and-Processing-a-Stream" class="headerlink" title="6.1 Reading and Processing a Stream"></a>6.1 Reading and Processing a Stream</h2><p>To read and process a stream, your application will need to connect to a DynamoDB Streams endpoint and issue API requests. </p>
<p>A stream consists of stream records. Each stream record represents a single data modification in the DynamoDB table to which the stream belongs. Each stream record is assigned a sequence number, reflecting the order in which the record was published to the stream.</p>
<p>Stream records are organized into groups, or shards. Each shard acts as a container for multiple stream records, and contains information required for accessing and iterating through these records. The stream records within a shard are removed automatically after 24 hours.</p>
<p>Shards are ephemeral: They are created and deleted automatically, as needed. Any shard can also split into multiple new shards; this also occurs automatically. (Note that it is also possible for a parent shard to have just one child shard.) A shard might split in response to high levels of write activity on its parent table, so that applications can process records from multiple shards in parallel.</p>
<p>Because shards have a lineage (parent and children), an application must always process a parent shard before it processes a child shard. This will ensure that the stream records are also processed in the correct order. (If you use the DynamoDB Streams Kinesis Adapter, this is handled for you: Your application will process the shards and stream records in the correct order, and automatically handle new or expired shards, as well as shards that split while the application is running.</p>
<p>To access a stream and process the stream records within, you must do the following: </p>
<ul>
<li>Determine the unique Amazon Resource Name (ARN) of the stream that you want to access.</li>
<li>Determine which shard(s) in the stream contain the stream records that you are interested in.</li>
<li>Access the shard(s) and retrieve the stream records that you want</li>
</ul>
<h2 id="6-2-DynamoDB-Streams-API"><a href="#6-2-DynamoDB-Streams-API" class="headerlink" title="6.2 DynamoDB Streams API"></a>6.2 DynamoDB Streams API</h2><p><a href="https://docs.aws.amazon.com/amazondynamodb/latest/APIReference/API_Operations_Amazon_DynamoDB_Streams.html" target="_blank" rel="noopener">API Instructions</a></p>
<h3 id="6-2-1-ListStreams"><a href="#6-2-1-ListStreams" class="headerlink" title="6.2.1 ListStreams"></a>6.2.1 ListStreams</h3><p>returns a list of stream descriptors for the current account and endpoint. You can optionally request just the stream descriptors for a particular table name.</p>
<h3 id="6-2-2-DescribeStream"><a href="#6-2-2-DescribeStream" class="headerlink" title="6.2.2 DescribeStream"></a>6.2.2 DescribeStream</h3><p>returns detailed information about a given stream. The output includes a list of shards associated with the stream, including the shard IDs.</p>
<h3 id="6-2-3-GetShardIterator"><a href="#6-2-3-GetShardIterator" class="headerlink" title="6.2.3 GetShardIterator"></a>6.2.3 GetShardIterator</h3><p>returns a shard iterator, which describes a location within a shard. You can request that the iterator provide access to the oldest point, the newest point, or a particular point in the stream.</p>
<h3 id="6-2-4-GetRecords"><a href="#6-2-4-GetRecords" class="headerlink" title="6.2.4 GetRecords"></a>6.2.4 GetRecords</h3><p>returns the stream records from within a given shard. </p>
<h2 id="6-3-Using-the-DynamoDB-Streams-Kinesis-Adapter-to-Process-Stream-Records"><a href="#6-3-Using-the-DynamoDB-Streams-Kinesis-Adapter-to-Process-Stream-Records" class="headerlink" title="6.3 Using the DynamoDB Streams Kinesis Adapter to Process Stream Records"></a>6.3 Using the DynamoDB Streams Kinesis Adapter to Process Stream Records</h2><p><a href="https://aws.amazon.com/blogs/database/how-to-perform-ordered-data-replication-between-applications-by-using-amazon-dynamodb-streams/" target="_blank" rel="noopener">How to perform ordered data replication between applications by using Amazon DynamoDB Streams</a></p>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 stone2paul@gmail.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>


<div class="article_copyright">
    <p><span class="copy-title">文章标题:</span>DynamoDB-Advanced</p>
    <p><span class="copy-title">文章字数:</span><span class="post-count">9.4k</span></p>
    <p><span class="copy-title">本文作者:</span><a  title="Leilei Chen">Leilei Chen</a></p>
    <p><span class="copy-title">发布时间:</span>2020-01-28, 23:23:57</p>
    <p><span class="copy-title">最后更新:</span>2020-02-01, 22:06:57</p>
    <span class="copy-title">原始链接:</span><a class="post-url" href="/DynamoDB-Advanced/" title="DynamoDB-Advanced">https://www.llchen60.com/DynamoDB-Advanced/</a>
    <p>
        <span class="copy-title">版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
    </p>
</div>



    <section id="comments" class="disqus">
    <style> aside.comment-bar { margin: auto 30px; }</style>
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function(){
            this.page.url = 'https://www.llchen60.com/DynamoDB-Advanced/';
            this.page.identifier = 'DynamoDB-Advanced/';
        };
        var loadComment = function(){
            var d = document, s = d.createElement('script');
            s.src = '//leilei-blog.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        }
    </script>
    
    <script> loadComment(); </script>


</section>

<!-- Add comment count-->
<span class="disqus-comment-count" style="display: none" data-disqus-identifier="DynamoDB-Advanced/"></span>
<span class="disqus-comment-count" style="display: none" data-disqus-url="https://www.llchen60.com/DynamoDB-Advanced/"></span>



    




    </div>
    <div class="copyright">
        <p class="footer-entry">©2018-2020 Leilei&#39;s Blog</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">目录</span>
    <div class="post-toc-content">

    </div>
</div>
<a class="" id="rocket" ></a>

    </div>
</div>
<div class="acParent"></div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.0.1" ></script>



<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-127393934-1', 'auto');
	ga('send', 'pageview');
</script>


<script src="/js/script.js?v=1.0.1" ></script>
<script>
    var img_resize = 'default';
    /*作者、标签的自动补全*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['#RESTFul','#Web','#AWS','#DynamoDB','#Mapper','#VPC','#Lambda','#Distributed Tracing','#Security','#Agility','#Elasticity','#Reliability','#FrontEnd','#CSS','#Curl','#EC2','#ELB','#AutoScaling','#Docker','#ECS','#CI/ CD','#Identity and Access Management','#CloudWatch','#CloudTrail','#S3','#Serverless','#NoSQL','#Gateway','#SQS','#SNS','#Notification Service','#Queue','#Step Functions','#ElasticCache','#System Design','#Elastic Search','#food','#diet','#reading','#Tips','#HTTP','#Network','#认证授权','#JavaScript','#Callback','#Java','#Concurrency','#Synchronized','#Lock','#BackEnd','#LDAP','#Object Oriented','#Linux','#Cli','#平均负载','#CPU Utilization','#Context Switch','#NightWatch','#UI Test','#RPC','#Puppeteer','#React','#Scalibility','#Web Accessibility','#Tomcat','#TypeScript','#Browser','#Batch Processing','#Web Development','#i18next','#thought','#society','#history','#world war','#5G','#GPS','#Uber','#time management','#Sam Altman','#Regex','#CDN','#network','#TCP/ IP','#Thought','#Reading','#Cloud','#流媒体协议','#P2P','#DNS','#HTTP 2.0','#QUIC','#HTTPS','#Data Center','#VPN','#UDP','#TCP','#Socket','#SOAP','#Distributed System','#rafactor','#IP Protocol','#CIDR','#DHCP','#ICMP','#Router','#Japan','#finance','#stock','#DDD',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $(".post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().split('\n').length - 1, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0px;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: ;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
        .nav .hide-list.fullscreen {
            left: 492px
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    
    .post .pjax article .article-entry>ol, .post .pjax article .article-entry>ul, .post .pjax article>ol, .post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    .post .pjax article .article-entry li>ol, .post .pjax article .article-entry li>ul,.post .pjax article li>ol, .post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    .post .pjax article .article-entry>ol>li, .post .pjax article .article-entry>ul>li,.post .pjax article>ol>li, .post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    .post .pjax article .article-entry li>ol>li, .post .pjax article .article-entry li>ul>li,.post .pjax article li>ol>li, .post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("https://i.loli.net/2019/07/22/5d3521411f3f169375.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
