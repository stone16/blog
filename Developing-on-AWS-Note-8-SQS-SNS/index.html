<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Developing on AWS Note.8 SQS, SNS | Leilei&#39;s Blog | 磊磊的博客</title>
  <meta name="keywords" content=" AWS , SQS , SNS , Notification Service , Queue ">
  <meta name="description" content="Developing on AWS Note.8 SQS, SNS | Leilei&#39;s Blog | 磊磊的博客">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="My thoughts输出真的能促进输入，希望自己的一些想法能对正在看这个博客的你有所帮助。如果觉得哪篇文章有瑕疵&#x2F; 问题，欢迎留言啊！ 感谢！ 内推Offer STRONG referral to Amazon, send email to amazonreferll@gmail.com with your resume, your self-introduction and Job ID (s">
<meta property="og:type" content="website">
<meta property="og:title" content="about">
<meta property="og:url" content="https://www.llchen60.com/about/index.html">
<meta property="og:site_name" content="Leilei&#39;s Blog | 磊磊的博客">
<meta property="og:description" content="My thoughts输出真的能促进输入，希望自己的一些想法能对正在看这个博客的你有所帮助。如果觉得哪篇文章有瑕疵&#x2F; 问题，欢迎留言啊！ 感谢！ 内推Offer STRONG referral to Amazon, send email to amazonreferll@gmail.com with your resume, your self-introduction and Job ID (s">
<meta property="article:published_time" content="2020-01-28T03:31:33.000Z">
<meta property="article:modified_time" content="2020-01-28T03:32:09.008Z">
<meta property="article:author" content="Leilei Chen">
<meta name="twitter:card" content="summary">


<link rel="icon" href="/img/avatar.jpg">

<link href="/css/style.css?v=1.0.1" rel="stylesheet">

<link href="/css/hl_theme/darcula.css?v=1.0.1" rel="stylesheet">

<link href="//cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet">
<link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="/js/jquery.autocomplete.min.js?v=1.0.1" ></script>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.bootcss.com/nprogress/0.2.0/nprogress.min.js"></script>


<script id="dsq-count-scr" src="//leilei-blog.disqus.com/count.js" async></script>


<script src="/js/iconfont.js?v=1.0.1" ></script>

<meta name="generator" content="Hexo 4.2.0"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="true">
  <input class="theme_preload_comment" value="true">
  <input class="theme_blog_path" value="">
</div>

<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/avatar.jpg" />
</a>
<div class="author">
    <span>Leilei Chen</span>
</div>

<div class="icon">
    
        
    
        
        <a title="github" href="https://github.com/stone16" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="email" href="mailto:stone2paul@gmail.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
</div>




<ul>
    <li><div class="all active">全部文章<small>(32)</small></div></li>
    
        
            
            <li><div data-rel="FrontEnd">FrontEnd<small>(2)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="BackEnd">BackEnd<small>(3)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Network">Network<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="笔记">笔记<small>(2)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Cloud">Cloud<small>(24)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">关于</a><a style="width: 50%"  class="friends">友链</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="32">
<input type="hidden" id="yelog_site_word_count" value="45.1k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="back-title-list"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">叶落阁</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <form onkeydown="if(event.keyCode==13){return false;}">
        <input class="search" type="text" placeholder="以 in: 开头进行全文搜索" autocomplete="off"id="local-search-input" >
        <i class="cross"></i>
        <span>
            <label for="tagswitch">Tags:</label>
            <input id="tagswitch" type="checkbox" style="display: none" />
            <i id="tagsWitchIcon"></i>
        </span>
    </form>
    <div class="tags-list">
    
    <li class="article-tag-list-item">
        <a class="color3">reading</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">finance</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">stock</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">history</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">world war</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">FrontEnd</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Browser</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">CDN</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">network</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">TCP/ IP</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">React</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">BackEnd</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Java</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Concurrency</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Synchronized</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Lock</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Network</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">HTTP</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Batch Processing</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Web Development</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">AWS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">EC2</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">ELB</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">AutoScaling</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Identity and Access Management</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">CloudWatch</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">CloudTrail</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">S3</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">NoSQL</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">DynamoDB</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Lambda</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Serverless</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Gateway</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">RESTFul</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">SQS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">SNS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Notification Service</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Queue</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Step Functions</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">ElasticCache</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Docker</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">ECS</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">Security</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">CI/ CD</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Distributed Tracing</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">System Design</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Mapper</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color4">VPC</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color5">Elastic Search</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color3">Agility</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color1">Elasticity</a>
    </li>
    
    <li class="article-tag-list-item">
        <a class="color2">Reliability</a>
    </li>
    
    <div class="clearfix"></div>
</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        <a  class="Cloud "
           href="/AWS-essential-5-Architecting/"
           data-tag="AWS"
           data-author="" >
            <span class="post-title" title="AWS essential(5) - Architecting">AWS essential(5) - Architecting</span>
            <span class="post-date" title="2020-01-29 21:06:50">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-essential-4-Security/"
           data-tag="AWS,Security"
           data-author="" >
            <span class="post-title" title="AWS essential(4)-Security">AWS essential(4)-Security</span>
            <span class="post-date" title="2020-01-29 21:05:42">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-essentials-3-Core-Services/"
           data-tag="AWS"
           data-author="" >
            <span class="post-title" title="AWS essentials(3) - Core Services">AWS essentials(3) - Core Services</span>
            <span class="post-date" title="2020-01-29 20:48:08">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-essentials-2-Cloud-Concepts/"
           data-tag="AWS,Security,Agility,Elasticity,Reliability"
           data-author="" >
            <span class="post-title" title="AWS essentials(2) - Cloud Concepts">AWS essentials(2) - Cloud Concepts</span>
            <span class="post-date" title="2020-01-29 20:46:46">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-essentials-1-introduction/"
           data-tag="AWS"
           data-author="" >
            <span class="post-title" title="AWS essentials(1) - introduction">AWS essentials(1) - introduction</span>
            <span class="post-date" title="2020-01-29 20:45:54">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/ECS-Elastic-Container-Service/"
           data-tag="AWS,ECS"
           data-author="" >
            <span class="post-title" title="ECS - Elastic Container Service">ECS - Elastic Container Service</span>
            <span class="post-date" title="2020-01-29 20:36:54">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/Elasticsearch-Overview/"
           data-tag="Elastic Search"
           data-author="" >
            <span class="post-title" title="Elasticsearch Overview">Elasticsearch Overview</span>
            <span class="post-date" title="2020-01-29 20:35:39">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-X-Ray-Intro-Java/"
           data-tag="AWS,Distributed Tracing"
           data-author="" >
            <span class="post-title" title="AWS X-Ray Intro(Java)">AWS X-Ray Intro(Java)</span>
            <span class="post-date" title="2020-01-29 20:34:38">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-VPC/"
           data-tag="AWS,VPC"
           data-author="" >
            <span class="post-title" title="AWS-VPC">AWS-VPC</span>
            <span class="post-date" title="2020-01-29 20:32:16">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-Lambda/"
           data-tag="AWS,Lambda"
           data-author="" >
            <span class="post-title" title="AWS Lambda">AWS Lambda</span>
            <span class="post-date" title="2020-01-29 20:18:52">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/AWS-DynamoDBClient-vs-DynamoDBMapper/"
           data-tag="AWS,DynamoDB,Mapper"
           data-author="" >
            <span class="post-title" title="AWS DynamoDBClient vs DynamoDBMapper">AWS DynamoDBClient vs DynamoDBMapper</span>
            <span class="post-date" title="2020-01-29 20:09:13">2020/01/29</span>
        </a>
        
        <a  class="Cloud "
           href="/Distributed-Tracing/"
           data-tag="Distributed Tracing,System Design"
           data-author="" >
            <span class="post-title" title="Distributed Tracing">Distributed Tracing</span>
            <span class="post-date" title="2020-01-28 23:39:40">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/DynamoDB-Advanced/"
           data-tag="AWS,DynamoDB"
           data-author="" >
            <span class="post-title" title="DynamoDB-Advanced">DynamoDB-Advanced</span>
            <span class="post-date" title="2020-01-28 23:23:57">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-11-Deploying-Applications/"
           data-tag="AWS,CI/ CD"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.11 Deploying Applications">Developing on AWS Note.11 Deploying Applications</span>
            <span class="post-date" title="2020-01-28 23:22:38">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-10-Docker-ECS-Security/"
           data-tag="AWS,Docker,ECS,Security"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.10 Docker, ECS, Security">Developing on AWS Note.10 Docker, ECS, Security</span>
            <span class="post-date" title="2020-01-28 23:20:55">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-9-Step-Functions-ElasticCache/"
           data-tag="AWS,Step Functions,ElasticCache"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.9 Step Functions, ElasticCache">Developing on AWS Note.9 Step Functions, ElasticCache</span>
            <span class="post-date" title="2020-01-28 23:18:45">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-8-SQS-SNS/"
           data-tag="AWS,SQS,SNS,Notification Service,Queue"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.8 SQS, SNS">Developing on AWS Note.8 SQS, SNS</span>
            <span class="post-date" title="2020-01-28 23:17:05">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-7-API-Gateway/"
           data-tag="AWS,Gateway,RESTFul"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.7 API Gateway">Developing on AWS Note.7 API Gateway</span>
            <span class="post-date" title="2020-01-28 23:14:08">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-6-AWS-Serverless-platform-Lambda/"
           data-tag="AWS,Lambda,Serverless"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.6 AWS Serverless platform, Lambda">Developing on AWS Note.6 AWS Serverless platform, Lambda</span>
            <span class="post-date" title="2020-01-28 23:06:41">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-5-DynamoDB/"
           data-tag="AWS,NoSQL,DynamoDB"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.5 DynamoDB">Developing on AWS Note.5 DynamoDB</span>
            <span class="post-date" title="2020-01-28 23:05:29">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-4-Storage-Options-S3-in-detail/"
           data-tag="AWS,S3"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.4 Storage Options, S3 in detail">Developing on AWS Note.4 Storage Options, S3 in detail</span>
            <span class="post-date" title="2020-01-28 23:03:35">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-3-CloudWatch-CloudTrail-server-design-for-fail/"
           data-tag="AWS,CloudWatch,CloudTrail"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.3  - CloudWatch, CloudTrail, server-design for fail">Developing on AWS Note.3  - CloudWatch, CloudTrail, server-design for fail</span>
            <span class="post-date" title="2020-01-28 23:02:31">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-2-IAM/"
           data-tag="AWS,Identity and Access Management"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.2  - IAM">Developing on AWS Note.2  - IAM</span>
            <span class="post-date" title="2020-01-28 23:00:14">2020/01/28</span>
        </a>
        
        <a  class="Cloud "
           href="/Developing-on-AWS-Note-1-AWS-Models-EC2-ELB-autoScaling/"
           data-tag="AWS,EC2,ELB,AutoScaling"
           data-author="" >
            <span class="post-title" title="Developing on AWS Note.1  - AWS Models, EC2, ELB, autoScaling">Developing on AWS Note.1  - AWS Models, EC2, ELB, autoScaling</span>
            <span class="post-date" title="2020-01-28 22:58:39">2020/01/28</span>
        </a>
        
        <a  class="Network "
           href="/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%90%88%E5%B9%B6HTTP%E8%AF%B7%E6%B1%82/"
           data-tag="FrontEnd,Network,HTTP,Batch Processing,Web Development"
           data-author="" >
            <span class="post-title" title="为什么要合并HTTP请求?">为什么要合并HTTP请求?</span>
            <span class="post-date" title="2020-01-28 20:37:15">2020/01/28</span>
        </a>
        
        <a  class="BackEnd "
           href="/Java-Synchronized%E6%96%B9%E6%B3%95/"
           data-tag="Java,Concurrency,Synchronized,Lock"
           data-author="" >
            <span class="post-title" title="Java-Synchronized方法">Java-Synchronized方法</span>
            <span class="post-date" title="2020-01-28 20:34:26">2020/01/28</span>
        </a>
        
        <a  class="BackEnd "
           href="/Volatile%E5%85%B3%E9%94%AE%E5%AD%97/"
           data-tag="BackEnd,Java,Concurrency"
           data-author="" >
            <span class="post-title" title="Volatile关键字">Volatile关键字</span>
            <span class="post-date" title="2020-01-28 20:22:48">2020/01/28</span>
        </a>
        
        <a  class="BackEnd "
           href="/Java%E5%B9%B6%E5%8F%91%E5%9B%BE%E8%B0%B1/"
           data-tag="BackEnd,Java,Concurrency"
           data-author="" >
            <span class="post-title" title="Java并发图谱">Java并发图谱</span>
            <span class="post-date" title="2020-01-28 09:11:45">2020/01/28</span>
        </a>
        
        <a  class="FrontEnd "
           href="/%E6%B5%8F%E8%A7%88%E5%99%A8%E8%BE%93%E5%85%A5url%E4%BB%A5%E5%90%8E%E9%83%BD%E5%8F%91%E7%94%9F%E4%BA%86%E4%BB%80%E4%B9%88/"
           data-tag="FrontEnd,Browser,CDN,network,TCP/ IP"
           data-author="" >
            <span class="post-title" title="浏览器输入url以后都发生了什么">浏览器输入url以后都发生了什么</span>
            <span class="post-date" title="2020-01-27 22:06:56">2020/01/27</span>
        </a>
        
        <a  class="FrontEnd "
           href="/React%E5%88%9D%E6%8E%A2/"
           data-tag="FrontEnd,React"
           data-author="" >
            <span class="post-title" title="React初探">React初探</span>
            <span class="post-date" title="2020-01-27 21:58:30">2020/01/27</span>
        </a>
        
        <a  class="笔记 "
           href="/%E4%BA%8C%E6%88%98%E6%97%B6%E9%97%B4%E7%BA%BF/"
           data-tag="history,world war"
           data-author="" >
            <span class="post-title" title="二战时间线">二战时间线</span>
            <span class="post-date" title="2020-01-27 21:08:37">2020/01/27</span>
        </a>
        
        <a  class="笔记 "
           href="/%E8%AF%BB%E6%87%82%E8%B4%A2%E6%8A%A5/"
           data-tag="reading,finance,stock"
           data-author="" >
            <span class="post-title" title="读懂财报">读懂财报</span>
            <span class="post-date" title="2020-01-27 20:28:53">2020/01/27</span>
        </a>
        
    </nav>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div class="post">
    <div class="pjax">
        <article id="post-Developing-on-AWS-Note-8-SQS-SNS" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">Developing on AWS Note.8 SQS, SNS</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            
                <a  data-rel="Cloud">Cloud</a>
            
        </span>
        
        
        <span class="tag">
            
            <a class="color4">AWS</a>
            
            <a class="color4">SQS</a>
            
            <a class="color4">SNS</a>
            
            <a class="color1">Notification Service</a>
            
            <a class="color1">Queue</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
        创建时间:<time class="date" title='更新时间: 2020-01-28 23:17:45'>2020-01-28 23:17</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:2k</span>
        
        
        <span id="busuanzi_container_page_pv">
            阅读:<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="跳转至评论区">
            <a href="#comments">
                评论:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Why-use-a-queuing-service"><span class="toc-text">1. Why use a queuing service?</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-Developing-with-Amazon-Simple-Queue-Service-Amazon-SQS"><span class="toc-text">2. Developing with Amazon Simple Queue Service (Amazon SQS)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-Types"><span class="toc-text">2.1 Types</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-Used-to-solve-tightly-linked-systems"><span class="toc-text">2.2 Used to solve tightly linked systems</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-Operations"><span class="toc-text">2.3 Operations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-1-Client"><span class="toc-text">2.3.1 Client</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-2-Basic-Queue-Operations"><span class="toc-text">2.3.2 Basic Queue Operations</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-Message-Lifecycle"><span class="toc-text">2.4 Message Lifecycle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-Queue-and-Message-Identifiers"><span class="toc-text">2.5 Queue and Message Identifiers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-Dead-letter-queues"><span class="toc-text">2.6 Dead letter queues</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-Sharing-a-Queue"><span class="toc-text">2.7 Sharing a Queue</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-8-Use-cases"><span class="toc-text">2.8 Use cases</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-Amazon-Simple-Notification-Service"><span class="toc-text">3. Amazon Simple Notification Service</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-Introduction"><span class="toc-text">3.1 Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-Use-case-Fan-out"><span class="toc-text">3.2 Use case: Fan out</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-Operations"><span class="toc-text">3.3 Operations</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-Best-practices"><span class="toc-text">3.4 Best practices</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-1-Characteristics-of-Amazon-SNS"><span class="toc-text">3.4.1 Characteristics of Amazon SNS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-2-Manage-Access-to-Amazon-SNS"><span class="toc-text">3.4.2 Manage Access to Amazon SNS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-3-SQS-vs-SNS"><span class="toc-text">3.4.3 SQS vs SNS</span></a></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="1-Why-use-a-queuing-service"><a href="#1-Why-use-a-queuing-service" class="headerlink" title="1. Why use a queuing service?"></a>1. Why use a queuing service?</h1><p>Consider a scenario where an application produces messages that must be processed by a consumer downstream. The producer needs to know how to connect to the consumer. If the consumer fails for some reason, then messages may be lost. If new consumer instances are launched to recover from failure or to keep up with an increased workload, the producer needs to be explicitly made aware of the new consumer instances. In this scenario, the producer is tightly coupled with the consumers and the coupling is prone to brittleness.</p>
<p>In this way, there will be a strong interdependency between teh consumer and the producer, which is a <strong>tightly coupled system</strong>. which is not fault tolerant, if any one component in our system fails, the entire system will fail. </p>
<ul>
<li>Having a queue service decouples the producer from the consumer.<ul>
<li>queue is a temprary repositiory for messages that are awaiting processing. </li>
<li>acts as a buffer between the component producing data and the component receiving the data for processing. </li>
<li>A queue supports multiple producers and consumers interacting with the same queue. </li>
<li>A single queue can be used <strong>simultaneously</strong> by many distributed application components, with no need for those components to coordinate with each other to share the queue. A queue delivers each message at least once.</li>
<li>In this way, a producer can put messages on the queue regardless if they are being read by the consumer or not. </li>
</ul>
</li>
</ul>
<h1 id="2-Developing-with-Amazon-Simple-Queue-Service-Amazon-SQS"><a href="#2-Developing-with-Amazon-Simple-Queue-Service-Amazon-SQS" class="headerlink" title="2. Developing with Amazon Simple Queue Service (Amazon SQS)"></a>2. Developing with Amazon Simple Queue Service (Amazon SQS)</h1><h2 id="2-1-Types"><a href="#2-1-Types" class="headerlink" title="2.1 Types"></a>2.1 Types</h2><ul>
<li>Standard queues<ul>
<li>message ordering is not guranteed</li>
<li>message may be duplicated </li>
<li>maximum throughput </li>
</ul>
</li>
<li>FIFO queue<ul>
<li>message ordering is preserved</li>
<li>message only receive once</li>
<li>limited throughput (300 transactions per second)</li>
</ul>
</li>
</ul>
<h2 id="2-2-Used-to-solve-tightly-linked-systems"><a href="#2-2-Used-to-solve-tightly-linked-systems" class="headerlink" title="2.2 Used to solve tightly linked systems"></a>2.2 Used to solve tightly linked systems</h2><ul>
<li>problem to be solved<ul>
<li>An example of image processing: the sequential operations of uploading, storing, and encoding the image, creating a thumbnail, and copyrighting are tightly linked to each other. This tight linkage complicates the recovery operations when there has been a failure.</li>
</ul>
</li>
<li>queuing chain pattern<ul>
<li>Achieve loose coupling of systems by using queues between systems and exchanging messages that transfer jobs</li>
<li>This enables asynchronous linking of systems.</li>
<li>lets you increase the number of virtual servers that receive and process the messages in parallel. </li>
<li>If there is no image to process, you can configure auto scaling to terminate the servers that are in excess.</li>
</ul>
</li>
</ul>
<h2 id="2-3-Operations"><a href="#2-3-Operations" class="headerlink" title="2.3 Operations"></a>2.3 Operations</h2><h3 id="2-3-1-Client"><a href="#2-3-1-Client" class="headerlink" title="2.3.1 Client"></a>2.3.1 Client</h3><ul>
<li><p>sendMessage </p>
<ul>
<li>send message to a specific queue</li>
<li>max size: 256 KB </li>
<li>parameters of a sendMessage operation<ul>
<li>QueueUrl: specify the url of the queue that the message should be sent to</li>
<li>MessageBody: specify the message to send </li>
<li>DelaySeconds: specify the number of seconds to delay a specific message. Messages will become available for processing after the delay time is finished. </li>
<li>MessageAttributes <ul>
<li>specify structured metadata about the message<ul>
<li>timestamp</li>
<li>signature</li>
<li>geospatial data</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>receiveMessage</p>
<ul>
<li>specify short polling or long polling </li>
<li>When requesting to get a message from the queue, <strong>you cannot specify which message to get</strong>. You simply specify the maximum number of messages you want to get (up to 10), and Amazon SQS returns up to that maximum number.</li>
<li>parameters <ul>
<li>WaitTimeSeconds</li>
<li>MaxNumberOfMessages</li>
<li>VisibilityTimeout<ul>
<li>period of time that a message is invisible to the rest of your application after an application component gets it from the queue.</li>
<li>prevents multiple components from processing the same message </li>
<li>during the visibility time, the component that received the message usually processes it and then delete it from the queue. </li>
<li>this prevents multiple components from processing the same message </li>
</ul>
</li>
</ul>
</li>
<li>polling types<ul>
<li>short polling<ul>
<li>Amazon SQS samples a subset of the servers (based on a weighted random distribution) and returns messages from only the sampled servers</li>
<li>if you keep retrieving from your queues, SQS samples all the servers, and you will eventually receive all of your messages. </li>
<li>occurs when the WaitTimeSeconds parameter of a ReceiveMessage call is set to 0 or the queue attribute ReceiveMessageWaitTimeSeconds is 0</li>
</ul>
</li>
<li>long polling<ul>
<li>better and preferred way to retrieve messages </li>
<li>if your application has a single thread polling multiple queues, switching from short polling to long polling will likely not work, because the single thread will wait for the long poll timeout on any empty queues, delaying the processing of any queues which may contain messages. </li>
<li>Amazon SQS long polling doesn’t return a response until a message arrives in the queue or the long poll times out </li>
<li>inexpensive </li>
<li>unless the connection time out, the response to the ReceiveMessage request will contain at least one of the available messages. </li>
<li>Reduce the cost of using Amazon SQS by reducing the number of empty responsed and false empty responses. </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>deleteMessage<ul>
<li>When you receive the message, you <strong>must delete it from the queue</strong> to acknowledge that you processed the message and no longer need it. </li>
<li>You specify which message to delete by providing the <strong>receipt handle</strong> that Amazon SQS returned when you received the message.</li>
</ul>
</li>
<li>deleteMessageBatch</li>
<li>PuregeQueue<ul>
<li>delete all the messages in an AmazonSQS queue without deleting the queue itself.  </li>
</ul>
</li>
</ul>
<h3 id="2-3-2-Basic-Queue-Operations"><a href="#2-3-2-Basic-Queue-Operations" class="headerlink" title="2.3.2 Basic Queue Operations"></a>2.3.2 Basic Queue Operations</h3><ul>
<li>CreateQueue <ul>
<li>attributes<ul>
<li>delaySeconds<ul>
<li>the delivery of all messages in the queue will be delayed </li>
<li>default 0, maximum 15 min</li>
</ul>
</li>
<li>maximumMessageSize<ul>
<li>the limit of how many bytes a message can contain before Amazon SQS rejects it </li>
<li>max 256 KB</li>
</ul>
</li>
<li>messageRetentionPeriod<ul>
<li>seconds SQS retains a message </li>
</ul>
</li>
<li>ReceiveMessageWaitTimeSeconds<ul>
<li>time for which a ReceiveMessage call will wait for a message to arrive </li>
<li>max configurable wait time is 20 seconds </li>
<li>default 0</li>
</ul>
</li>
<li>VisibilityTimeout<ul>
<li>period of time that a message is invisbile to the rest of your application  </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>SetQueueAttributes</li>
<li>GetQueueAttributes</li>
<li>GetQueueUrl</li>
<li>ListQueues</li>
<li>DeleteQueue</li>
</ul>
<h2 id="2-4-Message-Lifecycle"><a href="#2-4-Message-Lifecycle" class="headerlink" title="2.4 Message Lifecycle"></a>2.4 Message Lifecycle</h2><ul>
<li>Immediately after a message is received, it <strong>remains in the queue</strong>. To prevent other consumers from processing the message again, Amazon SQS sets a visibility timeout, a period of time during which Amazon SQS prevents other consumers from receiving and processing the message. </li>
<li>The default visibility timeout for a message is 30 seconds. The maximum is 12 hours.</li>
<li>Or consumer could send a separate request which acknowledges that you no longer need the message because you have successfully received and processed it </li>
<li>Maximum message retention period<ul>
<li>SQS automatically deletes messages that have been in a queue for more than maximum message retension period</li>
<li>default is 4 days </li>
<li>can be set from 60 seconds to 14 days </li>
</ul>
</li>
</ul>
<h2 id="2-5-Queue-and-Message-Identifiers"><a href="#2-5-Queue-and-Message-Identifiers" class="headerlink" title="2.5 Queue and Message Identifiers"></a>2.5 Queue and Message Identifiers</h2><ul>
<li>Queue URL <ul>
<li>when creating a new queue, must provide a queue name that is unique within the scope of all your queues. </li>
<li>AWS assgin each queue an identifier called a <strong>queue URL</strong>, which includes the queue name and other components that Amazon SQS determines. </li>
</ul>
</li>
<li>Message ID<ul>
<li>For each message, Amazon SQS returns a system-assigned message ID in the SendMessage response. </li>
</ul>
</li>
<li>Receipt Handle<ul>
<li>Each time you receive a message from a queue, you receive a receipt handle for that message. </li>
<li>The handle is assoiciated with the act of receiving the message, not with the message itself. </li>
<li>To delete a message, you need the message’s receipt handle instead of the message ID. </li>
</ul>
</li>
</ul>
<h2 id="2-6-Dead-letter-queues"><a href="#2-6-Dead-letter-queues" class="headerlink" title="2.6 Dead letter queues"></a>2.6 Dead letter queues</h2><ul>
<li>A queue of messages that were not able to be processed </li>
<li>Use dead-letter queues with standard queues.</li>
<li>Dead letter queues help you troubleshoot incorrect message transmission operations </li>
</ul>
<h2 id="2-7-Sharing-a-Queue"><a href="#2-7-Sharing-a-Queue" class="headerlink" title="2.7 Sharing a Queue"></a>2.7 Sharing a Queue</h2><ul>
<li>Shared queues<ul>
<li>Queue can be shared with other AWS accounts</li>
<li>Queue can be shared anonymously </li>
<li>A permission gives access to another person to use your queue in some particular way</li>
<li>A policy is the actual document that contains the permissions you granted </li>
</ul>
</li>
</ul>
<h2 id="2-8-Use-cases"><a href="#2-8-Use-cases" class="headerlink" title="2.8 Use cases"></a>2.8 Use cases</h2><ul>
<li>Work queues<ul>
<li>decouple components of a distributed application that may not all process the same amount of work simultaneourly </li>
</ul>
</li>
<li>Buffer and batch operations<ul>
<li>add scalability and reliability to your architecture and smooth out temporary volume spikes without losing messages or increasing latency </li>
</ul>
</li>
<li>request offloading<ul>
<li>move slow operations off of interactive request paths by enqueuing the request</li>
</ul>
</li>
<li>Auto scaling<ul>
<li>Use queue to help determine the load on an application, and when combined with auto sclaing, you can sclae the numebr of Amazon Ec3 intances out or in, depending on the volumne of traffic </li>
</ul>
</li>
<li>fan out<ul>
<li>combine SQS with SNS to send identical copies of a message to multiple queues in parallel for simultaneous processing  </li>
</ul>
</li>
</ul>
<h1 id="3-Amazon-Simple-Notification-Service"><a href="#3-Amazon-Simple-Notification-Service" class="headerlink" title="3. Amazon Simple Notification Service"></a>3. Amazon Simple Notification Service</h1><h2 id="3-1-Introduction"><a href="#3-1-Introduction" class="headerlink" title="3.1 Introduction"></a>3.1 Introduction</h2><ul>
<li>A web service that makes it easy to set up, operate and send notifications from the cloud.</li>
<li>Follow the publish-subscribe messaging paradigm, with notifications being delivered to clients using a push mechanism that eliminates the need to periodically check or poll for new information and updates </li>
<li>When using Amazon SNS, you (as the owner) create a <strong>topic</strong> and <strong>control access to it by defining policies</strong> that determine which publishers and subscribers can communicate with the topic. </li>
<li>A publisher sends messages to topics they have created or to topics they have permission to publish to. </li>
<li>Instead of including a specific destination address in each message, a publisher sends a message to the topic. </li>
<li>Amazon SNS matches the topic to a list of subscribers who have subscribed to that topic and delivers the message to each of those subscribers. </li>
<li>Each topic has a <strong>unique name</strong> that identifies the Amazon SNS endpoint for <strong>publishers to post messages and subscribers to register for notifications</strong>. Subscribers receive all messages published to the topics that they subscribe to, and all subscribers to a topic receive the same messages.</li>
<li>Subscriber<ul>
<li>Web servers </li>
<li>email addresses</li>
<li>amazon sqs queues</li>
<li>aws lambda</li>
</ul>
</li>
<li>topic <ul>
<li>an access point for allowing recipients to dynamically subscribe for identical copies of the same notification </li>
</ul>
</li>
</ul>
<h2 id="3-2-Use-case-Fan-out"><a href="#3-2-Use-case-Fan-out" class="headerlink" title="3.2 Use case: Fan out"></a>3.2 Use case: Fan out</h2><ul>
<li>An Amazon SNS message is sent to a topic and then replicated and pushed to multiple Amazon SQS queues, HTTP endpoints, or email addresses. </li>
<li>Allow for parallel asynchronous processing</li>
<li>All subscribers get identical information </li>
</ul>
<h2 id="3-3-Operations"><a href="#3-3-Operations" class="headerlink" title="3.3 Operations"></a>3.3 Operations</h2><ul>
<li>CreateTopic<ul>
<li>Input: Topic name </li>
<li>Output: ARN of topic </li>
<li>creates a topic to which notifications can be published </li>
<li>action is idempotent, so if the requester already owns a topic with the specified name, that topic’s ARN is returned without creating a new topic </li>
</ul>
</li>
<li>Subscribe<ul>
<li>Input<ul>
<li>subscriber’s endpoint</li>
<li>protocol </li>
<li>ARN of topic </li>
</ul>
</li>
<li>prepare to subscribe an endpoint by sending the endpoint a confirmation message</li>
<li>to actually create a subscription, the endpoint owner must call the confirmSubscription action with the token from the confirmation message. </li>
<li>The ConfirmSubscription request verify an endpoint owner’s intent to receive messages by validating the token sent to the endpoint by an earlier Subscribe action. </li>
<li>If the token is valid, the action creates a new subscription and returns its ARN </li>
</ul>
</li>
<li>DeleteTopic <ul>
<li>Input<ul>
<li>ARN of topic  </li>
</ul>
</li>
<li>Deleting a topic might prevent some messages previously sent to the topic being delivered to subscribers</li>
<li>Action is idempotent, will not result in an error if the topic doesn’t exist</li>
</ul>
</li>
<li>Publish <ul>
<li>Input <ul>
<li>Message</li>
<li>Messsage attributes</li>
<li>Message structure : json</li>
<li>subject </li>
<li>ARN of topic </li>
</ul>
</li>
<li>output <ul>
<li>message ID </li>
</ul>
</li>
<li>Sends a message to all of a topic’s subscribed endpoints.</li>
<li>When a messageId is returned, the message has been saved and Amazon SNS will attempt to deliver it to the topic’s subscribers shortly. </li>
<li>The format of the outgoing message to each subscribed endpoint depends on the notification protocol selected.</li>
</ul>
</li>
</ul>
<h2 id="3-4-Best-practices"><a href="#3-4-Best-practices" class="headerlink" title="3.4 Best practices"></a>3.4 Best practices</h2><h3 id="3-4-1-Characteristics-of-Amazon-SNS"><a href="#3-4-1-Characteristics-of-Amazon-SNS" class="headerlink" title="3.4.1 Characteristics of Amazon SNS"></a>3.4.1 Characteristics of Amazon SNS</h3><ul>
<li>Each notification message contains a single published message</li>
<li>Message order is not guaranteed</li>
<li>A message cannot be deleted after it has been published </li>
<li>Amazon SNS delivery policy can be used to control retries in case of message delivery failure</li>
<li>Message can contain up to 256 kb of text data</li>
</ul>
<h3 id="3-4-2-Manage-Access-to-Amazon-SNS"><a href="#3-4-2-Manage-Access-to-Amazon-SNS" class="headerlink" title="3.4.2 Manage Access to Amazon SNS"></a>3.4.2 Manage Access to Amazon SNS</h3><ul>
<li>which endpoints</li>
<li>who can publish notifications</li>
<li>who can subscribe to notifications</li>
</ul>
<h3 id="3-4-3-SQS-vs-SNS"><a href="#3-4-3-SQS-vs-SNS" class="headerlink" title="3.4.3 SQS vs SNS"></a>3.4.3 SQS vs SNS</h3><ul>
<li>both messaging services within AWS</li>
<li>SNS<ul>
<li>allow applications to send time-critical messages to multiple subscribers through a push mechanism</li>
<li>eliminate the need to periodically check or poll for updates </li>
</ul>
</li>
<li>SQS <ul>
<li>message queue service used by distributed applications to exchange messages through a polling model, and it can be used to decouple sending and receiving components. </li>
<li>provides flexibility for distributed components of applications to send and receive messages without requiring each component to be concurrently available</li>
</ul>
</li>
</ul>

      
       <hr><span style="font-style: italic;color: gray;"> 转载请注明来源，欢迎对文章中的引用来源进行考证，欢迎指出任何有错误或不够清晰的表达。可以在下面评论区评论，也可以邮件至 stone2paul@gmail.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">赏</a>
</p>


<div class="article_copyright">
    <p><span class="copy-title">文章标题:</span>Developing on AWS Note.8 SQS, SNS</p>
    <p><span class="copy-title">文章字数:</span><span class="post-count">2k</span></p>
    <p><span class="copy-title">本文作者:</span><a  title="Leilei Chen">Leilei Chen</a></p>
    <p><span class="copy-title">发布时间:</span>2020-01-28, 23:17:05</p>
    <p><span class="copy-title">最后更新:</span>2020-01-28, 23:17:45</p>
    <span class="copy-title">原始链接:</span><a class="post-url" href="/Developing-on-AWS-Note-8-SQS-SNS/" title="Developing on AWS Note.8 SQS, SNS">https://www.llchen60.com/Developing-on-AWS-Note-8-SQS-SNS/</a>
    <p>
        <span class="copy-title">版权声明:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" title="CC BY-NC-SA 4.0 International" target = "_blank">"署名-非商用-相同方式共享 4.0"</a> 转载请保留原文链接及作者。
    </p>
</div>



    <section id="comments" class="disqus">
    <style> aside.comment-bar { margin: auto 30px; }</style>
    <div id="disqus_thread"></div>
    <script>
        var disqus_config = function(){
            this.page.url = 'https://www.llchen60.com/Developing-on-AWS-Note-8-SQS-SNS/';
            this.page.identifier = 'Developing-on-AWS-Note-8-SQS-SNS/';
        };
        var loadComment = function(){
            var d = document, s = d.createElement('script');
            s.src = '//leilei-blog.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        }
    </script>
    
    <script> loadComment(); </script>


</section>

<!-- Add comment count-->
<span class="disqus-comment-count" style="display: none" data-disqus-identifier="Developing-on-AWS-Note-8-SQS-SNS/"></span>
<span class="disqus-comment-count" style="display: none" data-disqus-url="https://www.llchen60.com/Developing-on-AWS-Note-8-SQS-SNS/"></span>



    




    </div>
    <div class="copyright">
        <p class="footer-entry">©2018-2020 Leilei&#39;s Blog</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full"><span class="min "></span></button>
<button class="post-toc-menu"><span class="post-toc-menu-icons"></span></button>
<div class="post-toc"><span class="post-toc-title">目录</span>
    <div class="post-toc-content">

    </div>
</div>
<a class="" id="rocket" ></a>

    </div>
</div>
<div class="acParent"></div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">×</a>
    <div class="shang_tit">
        <p>喜欢就点赞,疼爱就打赏</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="扫码支持">
            <img src="/img/weixin.jpg" class="weixin" title="扫码支持">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">支付宝</label></span><span><label><input type="radio" name="pay" value="weixin">微信</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.0.1" ></script>



<script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-127393934-1', 'auto');
	ga('send', 'pageview');
</script>


<script src="/js/script.js?v=1.0.1" ></script>
<script>
    var img_resize = 'default';
    /*作者、标签的自动补全*/
    $(function () {
        $('.search').AutoComplete({
            'data': ['#reading','#finance','#stock','#history','#world war','#FrontEnd','#Browser','#CDN','#network','#TCP/ IP','#React','#BackEnd','#Java','#Concurrency','#Synchronized','#Lock','#Network','#HTTP','#Batch Processing','#Web Development','#AWS','#EC2','#ELB','#AutoScaling','#Identity and Access Management','#CloudWatch','#CloudTrail','#S3','#NoSQL','#DynamoDB','#Lambda','#Serverless','#Gateway','#RESTFul','#SQS','#SNS','#Notification Service','#Queue','#Step Functions','#ElasticCache','#Docker','#ECS','#Security','#CI/ CD','#Distributed Tracing','#System Design','#Mapper','#VPC','#Elastic Search','#Agility','#Elasticity','#Reliability',],
            'itemHeight': 20,
            'width': 418
        }).AutoComplete('show');
    })
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $(".post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*高亮代码块行号*/
        
        $('pre code').each(function(){
            var lines = $(this).text().split('\n').length - 1, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*访问数量*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--加入行号的高亮代码块样式-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0px;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: ;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
        .nav .hide-list.fullscreen {
            left: 492px
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    
    .post .pjax article .article-entry>ol, .post .pjax article .article-entry>ul, .post .pjax article>ol, .post .pjax article>ul{
        border: #e2dede solid 1px;
        border-radius: 10px;
        padding: 10px 32px 10px 56px;
    }
    .post .pjax article .article-entry li>ol, .post .pjax article .article-entry li>ul,.post .pjax article li>ol, .post .pjax article li>ul{
        padding-top: 5px;
        padding-bottom: 5px;
    }
    .post .pjax article .article-entry>ol>li, .post .pjax article .article-entry>ul>li,.post .pjax article>ol>li, .post .pjax article>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    .post .pjax article .article-entry li>ol>li, .post .pjax article .article-entry li>ul>li,.post .pjax article li>ol>li, .post .pjax article li>ul>li{
        margin-bottom: auto;
        margin-left: auto;
    }
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    
    .nav-right:before {
        content: ' ';
        display: block;
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        opacity: 0.3;
        background: url("https://i.loli.net/2019/07/22/5d3521411f3f169375.png");
        background-repeat: no-repeat;
        background-position: 50% 0;
        -ms-background-size: cover;
        -o-background-size: cover;
        -moz-background-size: cover;
        -webkit-background-size: cover;
        background-size: cover;
    }
    

    
</style>







</html>
